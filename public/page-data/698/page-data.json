{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/698/","result":{"data":{"markdownRemark":{"html":"<p>今まではvs codeのLive Sass Compilerのプラグインに頼っていたのですが、ファイルが増える度にimport文を毎回足すのが手間で、globを利用してimport文を減らそうと導入を検討しました。</p>\n<p>同時にCSS設計はFLOCSSを採用しようとしたところ問題が発生しました。</p>\n<p>コンパイルされたCSSが想定のディレクトリに出力されない。</p>\n<p>ということです。</p>\n<h2 id=\"scss-の構造をそのまま維持して出力されてしまう\" style=\"position:relative;\"><a href=\"#scss-%E3%81%AE%E6%A7%8B%E9%80%A0%E3%82%92%E3%81%9D%E3%81%AE%E3%81%BE%E3%81%BE%E7%B6%AD%E6%8C%81%E3%81%97%E3%81%A6%E5%87%BA%E5%8A%9B%E3%81%95%E3%82%8C%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\" aria-label=\"scss の構造をそのまま維持して出力されてしまう permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scss の構造をそのまま維持して出力されてしまう</h2>\n<p>現在の挙動はこのようになっています。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 162px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f084904a5a805510be721ab127088e0c/4254c/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 330%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCABCABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAXAQEBAQEAAAAAAAAAAAAAAAABAgAD/9oADAMBAAIQAxAAAAHzoxtpkXuJogOlDEBazTy5qVQMhf/EABsQAAIDAAMAAAAAAAAAAAAAAAABEBExEiAh/9oACAEBAAEFAk0PieCyyxZCGIoYoZYshdLj/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIP/aAAgBAwEBPwHIyWJhOf/EABURAQEAAAAAAAAAAAAAAAAAABEw/9oACAECAQE/AWX/xAAcEAACAgIDAAAAAAAAAAAAAAABEAAxESAw0eH/2gAIAQEABj8CxKRLMpHqeI6Vx//EACAQAAMAAgEEAwAAAAAAAAAAAAABESExQRBRYaFxgbH/2gAIAQEAAT8hQsGCphVwLYB1wj4IiMv0iMpJm2PfuMOBoKntivVMOPRoKNN89FRwRXfA15/ep5W/bJ5QmVNvp//aAAwDAQACAAMAAAAQ/Cv/ALss8HvP/8QAGREBAQEBAQEAAAAAAAAAAAAAAREAIRAx/9oACAEDAQE/EHrjkTrksMBLMO24BLnx++f/xAAaEQEAAQUAAAAAAAAAAAAAAAABABARIFFx/9oACAECAQE/EOIrqWjRHH//xAAjEAEAAgIBAwQDAAAAAAAAAAABABEhMXFBUWEQocHhgbHR/9oACAEBAAE/EHsQeOnP5lWSO7T4laew+hROr2W5edXFQpqBpXSnZQOcuSIOFXkJZtJnv9Q3sY8DPtzMOtPVpN3Md5owOCAKW90TdzN5CarLtiKbr5tgCj3xgWsqNPxCTJOf6jh3cxtsETqn6laK58kQO7iMOFOJ9q9P/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/f084904a5a805510be721ab127088e0c/4254c/1.jpg\"\n        srcset=\"/static/f084904a5a805510be721ab127088e0c/75985/1.jpg 150w,\n/static/f084904a5a805510be721ab127088e0c/4254c/1.jpg 162w\"\n        sizes=\"(max-width: 162px) 100vw, 162px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>style.scss では project ディレクトリ以外の scss を import して style.css を出力しています。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 269px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/179c866d028aeda9f6d35a3770796b00/98fe2/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACPUlEQVR42p2TyW7bMBiE/RituMlauImiVtuSLcdxUSdpL0Fvff8XmYKMndpATz0IJCXh0/wzo9V+v0fdtRh1hfesg/EVns9nbDYDpnmGVhJfkgQJpSCU4it5XMP9hFBQxsAYwypNUxRFAUoJbGEw+wmjG9HbHlZWUPkaThbojEStSnS6hC3z67mAUx/PdJGDcY4V5xxKSnwlCVrd4sf2Fc/tCQe/Ry3rCPk5D3jddTiPDX6fp7h/m3q8bFu8LyN+HUZ4ZyGECEABKSUITdCqBi/jdzw1R8z1HIGmWGOqLaba4KlzOPUOu9pg8RatLjAYiVJqUELAbwpvwOYKPEbgFIFh5NFqHBobQZM3GKzC1mmINI0eZus1OGP/Bl6Gb58KvfIosxRbZ3DqXFQZQKbIUBsFbzVywWMYgROgKy4EjDYg0cMGr5vLX6D0UeHgDC6bJkKXtsLSBriGVzl6Z5HlOSil9woVkqvCe2AYWRdrzN5i8hZzbbBzGr2R2FQKspQRwq7qHoCPHi6Yrh6G8QLw2DkcWxdBXhZoQ320RirE58ixhyFla+1DyotfMLkdXOkgszSGEEZ0qsShMRHmQweNQcrvPLwpzPMcCUnQ6RZvmwtOsYeH6KHOP2oTUr5VZ1spjFaisSp2+FGhEKiqCpQR6ELHP6Q3HZxykLmMIwVltS5RySIWPaxZmsYil6WE4DzuP4otBPp+gOAMjDMQRkEYAWU0nsNLlPGHK4ZwBfA7WAQGmYSQT9mCi/hF/p/XH4uFmphLb1atAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/179c866d028aeda9f6d35a3770796b00/98fe2/image-4.png\"\n        srcset=\"/static/179c866d028aeda9f6d35a3770796b00/8a4e8/image-4.png 150w,\n/static/179c866d028aeda9f6d35a3770796b00/98fe2/image-4.png 269w\"\n        sizes=\"(max-width: 269px) 100vw, 269px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>project ディレクトリの scss は単体で css を出力します。その時 project ディレクトリも css の下に作られてしまいます。\n期待する動きは下記のように css の下にはディレクトリを作らず css ファイルが並ぶ形です。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 162px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa5b8dbb576dba72ce5d57d60b69d2e8/4254c/1-6.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 314.6666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAA/ABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIBAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAfMyucpg6MJLDVmMyFqppnm1b//EABkQAQEBAAMAAAAAAAAAAAAAAAEQABExMv/aAAgBAQABBQIzDzDcQzDMOmGYX//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESD/2gAIAQMBAT8Btlev/8QAFBEBAAAAAAAAAAAAAAAAAAAAMP/aAAgBAgEBPwEP/8QAFxABAQEBAAAAAAAAAAAAAAAAARAgMP/aAAgBAQAGPwJrXT0//8QAIRAAAQMEAgMBAAAAAAAAAAAAAQARIRAxQVFhoYGR0fD/2gAIAQEAAT8hIwwg/PTnY0mJpMfAXlQhPx0EW6o27WnQ8dNRzo1Khkp1YQmNYd1G2PZTjS//2gAMAwEAAgADAAAAEBj4zr/5vP/EABgRAQEBAQEAAAAAAAAAAAAAAAERABAx/9oACAEDAQE/EFLeKPcLMy3CZ5//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/ECEWv//EACIQAQEAAgEDBQEBAAAAAAAAAAERACExQVGRYXGBscHR8f/aAAgBAQABPxA5TYvTo65xTZeex+sB9cO3kdDHL334+cWKy+5iRmUGWF0kj6/mNVffo/uC98IllRlP+M1kjxwzbo5S83nWQCTOXIxrQShQswItvSJld3G6BFKo68ZCqfA+8dvEyd2cnV/Mh2UYKOifLn//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/fa5b8dbb576dba72ce5d57d60b69d2e8/4254c/1-6.jpg\"\n        srcset=\"/static/fa5b8dbb576dba72ce5d57d60b69d2e8/75985/1-6.jpg 150w,\n/static/fa5b8dbb576dba72ce5d57d60b69d2e8/4254c/1-6.jpg 162w\"\n        sizes=\"(max-width: 162px) 100vw, 162px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"gulp-rename-を使う\" style=\"position:relative;\"><a href=\"#gulp-rename-%E3%82%92%E4%BD%BF%E3%81%86\" aria-label=\"gulp rename を使う permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gulp-rename を使う</h2>\n<p>階層を変える為に gulp-rename を試しました。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> src<span class=\"token punctuation\">,</span> dest<span class=\"token punctuation\">,</span> watch<span class=\"token punctuation\">,</span> series <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  sass <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-sass'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  sassGlob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-sass-glob'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  rename <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-rename'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> paths <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">scss</span><span class=\"token operator\">:</span> <span class=\"token string\">'./scss/'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">css</span><span class=\"token operator\">:</span> <span class=\"token string\">'./css/'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compileScss</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">cb</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">src</span><span class=\"token punctuation\">(</span>paths<span class=\"token punctuation\">.</span>scss <span class=\"token operator\">+</span> <span class=\"token string\">\"**/*.scss\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">sassGlob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">sass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">outputStyle</span><span class=\"token operator\">:</span> <span class=\"token string\">\"expanded\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span> sass<span class=\"token punctuation\">.</span>logError<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">rename</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token punctuation\">.</span>dirname <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span>paths<span class=\"token punctuation\">.</span>css<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> watchScss <span class=\"token operator\">=</span> <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>\n  paths<span class=\"token punctuation\">.</span>scss <span class=\"token operator\">+</span> <span class=\"token string\">\"**/*.scss\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">usePolling</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  compileScss\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nexports<span class=\"token punctuation\">.</span>default <span class=\"token operator\">=</span> <span class=\"token function\">series</span><span class=\"token punctuation\">(</span>compileScss<span class=\"token punctuation\">)</span></code></pre></div>\n<p>上記コードを実行した結果が下記の通りです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 346px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3ccdc63c20407e195aa2b4991cffc996/8f77f/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA9UlEQVR42mWQ626CQBBGfQ7ZXSHAcl8uVpAFFJW27/9EpwGjadofJ18yk5x8M7uyKkmTiFBrkiSl605M08gwTSyPB7owOOc7zvjFoTwS+AGu5yGEQEr5j90qTOKIMAyJ45RTe2ScRnprWZaFKM3Y9wti+MT5GHGaHj8riLXG9Vxc9eKAUopdYYqtodb6LVxl83zbmkZZzn74xrELsp2QzZkgNwy9xfYDuW8wbkXjHZ/Cuq6JI00QBERRQl2XtF3H5XJlHCx+kuG0V4S9I+IcUxjm+w2TFhhVUXkNB6W2c9/Cv39Y//NCSoEST37vt5Svmdpka/4AAL2UUk2SdKIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/3ccdc63c20407e195aa2b4991cffc996/8f77f/image.png\"\n        srcset=\"/static/3ccdc63c20407e195aa2b4991cffc996/8a4e8/image.png 150w,\n/static/3ccdc63c20407e195aa2b4991cffc996/5a46d/image.png 300w,\n/static/3ccdc63c20407e195aa2b4991cffc996/8f77f/image.png 346w\"\n        sizes=\"(max-width: 346px) 100vw, 346px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 197px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4dcc507a141ee102f059b9ae85a6e745/1c154/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 170%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFYUlEQVR42oWWW48cVxWFhwAvKAygEDtx4nFXV51Tdep+66quvsx09/Tc7HhiT6yxsYfBTJIRjoAQEpuLsIiQJYSEgDeewhv8FnjmB31Rnb57JsrD1jmqqVq99l5r7z1r19Jt3ky2uRIPeTMZ8prX42o85PVwoJ9dL/YJx/cx2je5Xu4T7Tzger7LjeoWcvNdrkQDrP67GNUtrlkea9/af8b63T/SfPQnrn74L4Z/+y9vnfyZ6pN/svHoBa/sPeWb+0/59sFvdLyy+9n0/oxv7HzGa/c+xzn7C2sHv+f1eMTadwdnfH/0IVd3z7ly+yn5+V95a/+c6P4zru2c853OKev9n/Jq7zHrW2d8b/g+64Mz1geT8wejD3hj55xXR+dc9SrWhGkhhcBxFM2330D27xAcfYrlmoSDFskwJygjom6K7UiEaSIsaxL1t1LgtyKksGg0GqxZlkBKG+V6mIaBt3WI2zvEzQLymz2ygy7RVotkXOH4CssUCCGx6qi/dRzCdqafNRrGKqBlGLitAd7oGNuVOIGnX7RdhRBiAWbJ6SkQUmJ77uWANzbexjl4THD4C/zSo7o/JrvZI3+nR9hJMJuW/nAWM4bJoLwIaCuXwnHYVC5CWkjb1i9Lx9YfajYzVkuA+m7bCGsJ0HVc/KLkd60W/z85JekXFPeGlPcGOIGLtcRsBdC0UIFH3G/pcjSMKeCsyI6Q+FLNa1OzWwa5jN0y+wVDVxGEFc/el/zvPx3iKiPs5ViGuVKzl6NmWAsX9V5iWNdQSEUnE5y8E+MnAXbkYjQMmqZFs2liGE0Mw5zf58x0/dVqDW1HEQcZg6OYJy+OCYOYNMloVx3SNCNOMoqipChL2mWbomjjOM4E8LKUa0V9J6Q1VvzyxU/I0pwkzihapQZK05xyClifZbtCKTVnObPTHNCxlTbnwMl5Lx7pe52yDBSmaWGas5QXMQOzlYObBPo+BbRwlU+QxJyWY/599lvcLNKGznYqpJwqWndHHeaybYT+8aBIFqJMpLe0MKaUeFlOmhea2dzcS6duM7lql1qYecozwChOScKQ0ycf89HT5zh5QPVgTPWjEe3jbYrDTcrjMdXDMW7oYppiYezeJca27YlqteJSOvpXZ8NAzhSdek8ru2TwFZXrS51eFCcThh/9ip99+ge8XkzrcJN0v0txb4vuyZj8Zp90r5qm/DWtVw/Y+kzjmDSKsKTACT0dKvHx8hA3DVGxv2AmxErnLNVQ4IcxrcDlyqPnxB//naiMSPc6hP2ceFzqmdi8YepBsZy+47uE7XSVYR3K9XGlYGP0HluPP8FPQtLdirCbEnTT+Ri7MA9tG8f3VluvDs8LUMplq9+nU7YRjq1TrMPLI70SZiKJpYl9wdizP4RRQuj73D5+yNHpBzidmNatPq07Q8qjLfx2hGnM5qJYGNtV+Hl8UZTa2PV9o9Ggarp07QhTTSbJbNRL5Sy6Zmkm1s9XelmrXPeztDHMJufhkJFMCPZKOvfHevsVdwf61MvKWmo9pci2q0sAa0MLSdP1sWyXpmlOe3U6VWp1df3E6ta7zDa1sYM4pQoCfvjr5yT/+IKoiOg83KH9YETrzibRIMecT3Dx0k4pvsLYlsAIM5yyr2tWe0wqG5UEeK1ovqx0l3zVTpkNhzCKiP2Mu08Sfv75ISqKaN0Z0DnZJejEE3by4tarPRh18ovGdl0PZbsUOwFHP97TL/rthKCb45cRZsOcT+ZldnqkuZPsVkSpFd4wm2ybGQcbCVbsEXYygirRKQdVipeFF1eptPHz6DLbOGxYJod+ycCOkUVM63ZfRzJu6ykT9bJFtyz9KxJ18znglx9TE+gc643wAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image 1\"\n        title=\"image 1\"\n        src=\"/static/4dcc507a141ee102f059b9ae85a6e745/1c154/image-1.png\"\n        srcset=\"/static/4dcc507a141ee102f059b9ae85a6e745/8a4e8/image-1.png 150w,\n/static/4dcc507a141ee102f059b9ae85a6e745/1c154/image-1.png 197w\"\n        sizes=\"(max-width: 197px) 100vw, 197px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>想定通りの動きをしています。\ngulp.watch で監視していますが、更新時も問題なく動きました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 364px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2df7a9c0f7e826f263ad46a95aa09343/e45a9/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42kWS25KiMBRF+zNGCXeSACImIMjV1lLHfpj//501BXbbD7sqTytrn3M+jDmglEQqxeFQ0nUd/ThwuV6pqgqnGhDDHVH3JNmOKI5xnC2O4yBc8Y7nebiuy4ex5g00P8Bh4Ha7UdcVW9Mjpi9EO7NpP/F0RlnsSfOUyI+QvkL6coUt0BdQShKpsNZwbBv6vufxeFCWe5x6wpmeL0Pbcmha+lPPeByxUUXuFxTB/hdYVRatFTpNV+BiOM0zt/t9HYE4TjjzF04zoUxNO4ykUpH8kWg/Zetu2LibX+AC0UqRZhnGGE5dx/BdefnMMR1ifL4qN2dcqbHGUtoSGUh2wW41DL3wNUP7PUOlNcuCmrZZodfrda0sbI8Y/yKO45ow27EvCnbFjiRISLxkNQ1+gO/KOqWuLP3QM5/PPJ9PjstS6hlx+Yc4feKcLgRZQWUtB3NABnq1K4Li13A5jeURhiFxHBMnMVJKsiwjikJErHB1vlZd4gUBqU7J85zYj1G+JvUzAi9Ygf8BmqDwhvhYzOwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/2df7a9c0f7e826f263ad46a95aa09343/e45a9/image-2.png\"\n        srcset=\"/static/2df7a9c0f7e826f263ad46a95aa09343/8a4e8/image-2.png 150w,\n/static/2df7a9c0f7e826f263ad46a95aa09343/5a46d/image-2.png 300w,\n/static/2df7a9c0f7e826f263ad46a95aa09343/e45a9/image-2.png 364w\"\n        sizes=\"(max-width: 364px) 100vw, 364px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 175px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/578d50cf358a1b2484b6797532ffd26b/4edbd/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 187.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/578d50cf358a1b2484b6797532ffd26b/4edbd/image-3.png\"\n        srcset=\"/static/578d50cf358a1b2484b6797532ffd26b/8a4e8/image-3.png 150w,\n/static/578d50cf358a1b2484b6797532ffd26b/4edbd/image-3.png 175w\"\n        sizes=\"(max-width: 175px) 100vw, 175px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>初めての導入で、様々な情報を元に環境を整えようとしましたが、gulp3 と gulp4 では、gulp.task が非推奨だったりコールバック関数を返さないといけなかったり、desc なしでも watch が css を出力したり…と戸惑いましたがなんとか期待通りの動きを実現できました。</p>","frontmatter":{"date":"2021-02-08","slug":"/698","title":"gulpでscssのコンパイルの階層がうまくいかない","tags":["css"],"thumbnail":{"publicURL":"/static/1467bc985142401c318f9b7475adc20d/group1-1.jpg"}},"excerpt":"今まではvs codeのLive Sass Compilerのプラグインに頼っていたのですが、ファイルが増える度にimport文を毎回足すのが手間で、globを利用してimport文を減らそうと導入を検討しました。 同時にCSS…","tableOfContents":"<ul>\n<li><a href=\"#scss-%E3%81%AE%E6%A7%8B%E9%80%A0%E3%82%92%E3%81%9D%E3%81%AE%E3%81%BE%E3%81%BE%E7%B6%AD%E6%8C%81%E3%81%97%E3%81%A6%E5%87%BA%E5%8A%9B%E3%81%95%E3%82%8C%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\">scss の構造をそのまま維持して出力されてしまう</a></li>\n<li><a href=\"#gulp-rename-%E3%82%92%E4%BD%BF%E3%81%86\">gulp-rename を使う</a></li>\n</ul>"},"site":{"siteMetadata":{"title":"うさ技術"}}},"pageContext":{"id":"77179d43-00e5-5323-91b0-20654573cf6c","frontmatter__slug":"/698","__params":{"frontmatter__slug":"698"}}},"staticQueryHashes":["1304567263","209911134","3832698534"],"slicesMap":{}}