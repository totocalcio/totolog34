{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/698/","result":{"data":{"markdownRemark":{"html":"<p>今まではvs codeのLive Sass Compilerのプラグインに頼っていたのですが、ファイルが増える度にimport文を毎回足すのが手間で、globを利用してimport文を減らそうと導入を検討しました。</p>\n<p>同時にCSS設計はFLOCSSを採用しようとしたところ問題が発生しました。</p>\n<p>コンパイルされたCSSが想定のディレクトリに出力されない。</p>\n<p>ということです。</p>\n<h2 id=\"scss-の構造をそのまま維持して出力されてしまう\" style=\"position:relative;\"><a href=\"#scss-%E3%81%AE%E6%A7%8B%E9%80%A0%E3%82%92%E3%81%9D%E3%81%AE%E3%81%BE%E3%81%BE%E7%B6%AD%E6%8C%81%E3%81%97%E3%81%A6%E5%87%BA%E5%8A%9B%E3%81%95%E3%82%8C%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\" aria-label=\"scss の構造をそのまま維持して出力されてしまう permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>scss の構造をそのまま維持して出力されてしまう</h2>\n<p>現在の挙動はこのようになっています。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 162px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f084904a5a805510be721ab127088e0c/4254c/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 330%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCABCABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAXAQEBAQEAAAAAAAAAAAAAAAABAgAD/9oADAMBAAIQAxAAAAHzoxtpkXuJogOlDEBazTy5qVQMhf/EABsQAAIDAAMAAAAAAAAAAAAAAAABEBExEiAh/9oACAEBAAEFAk0PieCyyxZCGIoYoZYshdLj/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIP/aAAgBAwEBPwHIyWJhOf/EABURAQEAAAAAAAAAAAAAAAAAABEw/9oACAECAQE/AWX/xAAcEAACAgIDAAAAAAAAAAAAAAABEAAxESAw0eH/2gAIAQEABj8CxKRLMpHqeI6Vx//EACAQAAMAAgEEAwAAAAAAAAAAAAABESExQRBRYaFxgbH/2gAIAQEAAT8hQsGCphVwLYB1wj4IiMv0iMpJm2PfuMOBoKntivVMOPRoKNN89FRwRXfA15/ep5W/bJ5QmVNvp//aAAwDAQACAAMAAAAQ/Cv/ALss8HvP/8QAGREBAQEBAQEAAAAAAAAAAAAAAREAIRAx/9oACAEDAQE/EHrjkTrksMBLMO24BLnx++f/xAAaEQEAAQUAAAAAAAAAAAAAAAABABARIFFx/9oACAECAQE/EOIrqWjRHH//xAAjEAEAAgIBAwQDAAAAAAAAAAABABEhMXFBUWEQocHhgbHR/9oACAEBAAE/EHsQeOnP5lWSO7T4laew+hROr2W5edXFQpqBpXSnZQOcuSIOFXkJZtJnv9Q3sY8DPtzMOtPVpN3Md5owOCAKW90TdzN5CarLtiKbr5tgCj3xgWsqNPxCTJOf6jh3cxtsETqn6laK58kQO7iMOFOJ9q9P/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/f084904a5a805510be721ab127088e0c/4254c/1.jpg\"\n        srcset=\"/static/f084904a5a805510be721ab127088e0c/75985/1.jpg 150w,\n/static/f084904a5a805510be721ab127088e0c/4254c/1.jpg 162w\"\n        sizes=\"(max-width: 162px) 100vw, 162px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>style.scss では project ディレクトリ以外の scss を import して style.css を出力しています。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 269px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/179c866d028aeda9f6d35a3770796b00/98fe2/image-4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACSElEQVQ4y6WS2W7bMBBF/RdtYy0WRYoitW/e4yVuAhRo39r//5RTkI7VtK99IEiJwtGZO7PYrNcoo/mhero0Yzzs2O+2DNPEOPQsg4Avy4Cn5X3/c176u89P9z0MQ6IoYpGmKas4JgwjdtWWbbVlLEZa06GEoNSSwWp6mzPYzJ+bXLEuc3+3rgydyUiSxEMXUkr/EEUxr+ONl/6FU3NkKtZoIbkMNd+2Hdex5fu+5+d5zdW92w28rRt+nTfs2xKpFGEQsEilRIg78NZfuHQXjs2BqZhQSUpvMzalYd9YLn3JtrYcastUaBqVUhpDGK8IguC9ZAd0hmHMbbjegfWesZjIREqdK/aVYVdbtpVhLHMmq7E649PTkjiO3yML/wFGMS/9mXN39kBXsjOstOK5LTi2BdsqpzUZRgr6usBKQfIB5jNUKiMVd8OvwwtXb3iYDSstee5KXseaQ2P9+VhbOqOotaS0Zi53NkySB/A6Ax+GU6nZVC7Dgk2ZMxY5g1E0JidJBEEYzHYeKB9NcRn2LsMzh0eGScpQaG926Wt27yPSakltcmSazqDZMMs0UqZEYeSbcmpP7KsdvemRifAZrgtNa7SHOWgpBY01aCXncmdDV67rVByteBtv3IYb5/bkB/xheHzPzo3LqavotfLvi1zPAz03JTeWzA1lGFHlFZWuKLOCLM1YrVZIkWAziVESLQVFJpEOEkWINEUkwsO8VByzsEWJybVXD6PQh+yWO7sP7n+OPMCtIIz8iD3uPsI8MAiWf7X9f9dvVq6abgrCwGsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/179c866d028aeda9f6d35a3770796b00/98fe2/image-4.png\"\n        srcset=\"/static/179c866d028aeda9f6d35a3770796b00/8a4e8/image-4.png 150w,\n/static/179c866d028aeda9f6d35a3770796b00/98fe2/image-4.png 269w\"\n        sizes=\"(max-width: 269px) 100vw, 269px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>project ディレクトリの scss は単体で css を出力します。その時 project ディレクトリも css の下に作られてしまいます。\n期待する動きは下記のように css の下にはディレクトリを作らず css ファイルが並ぶ形です。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 162px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa5b8dbb576dba72ce5d57d60b69d2e8/4254c/1-6.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 314.6666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAA/ABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAIBAwX/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAfMyucpg6MJLDVmMyFqppnm1b//EABkQAQEBAAMAAAAAAAAAAAAAAAEQABExMv/aAAgBAQABBQIzDzDcQzDMOmGYX//EABcRAQEBAQAAAAAAAAAAAAAAAAEAESD/2gAIAQMBAT8Btlev/8QAFBEBAAAAAAAAAAAAAAAAAAAAMP/aAAgBAgEBPwEP/8QAFxABAQEBAAAAAAAAAAAAAAAAARAgMP/aAAgBAQAGPwJrXT0//8QAIRAAAQMEAgMBAAAAAAAAAAAAAQARIRAxQVFhoYGR0fD/2gAIAQEAAT8hIwwg/PTnY0mJpMfAXlQhPx0EW6o27WnQ8dNRzo1Khkp1YQmNYd1G2PZTjS//2gAMAwEAAgADAAAAEBj4zr/5vP/EABgRAQEBAQEAAAAAAAAAAAAAAAERABAx/9oACAEDAQE/EFLeKPcLMy3CZ5//xAAXEQADAQAAAAAAAAAAAAAAAAAAAREg/9oACAECAQE/ECEWv//EACIQAQEAAgEDBQEBAAAAAAAAAAERACExQVGRYXGBscHR8f/aAAgBAQABPxA5TYvTo65xTZeex+sB9cO3kdDHL334+cWKy+5iRmUGWF0kj6/mNVffo/uC98IllRlP+M1kjxwzbo5S83nWQCTOXIxrQShQswItvSJld3G6BFKo68ZCqfA+8dvEyd2cnV/Mh2UYKOifLn//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/fa5b8dbb576dba72ce5d57d60b69d2e8/4254c/1-6.jpg\"\n        srcset=\"/static/fa5b8dbb576dba72ce5d57d60b69d2e8/75985/1-6.jpg 150w,\n/static/fa5b8dbb576dba72ce5d57d60b69d2e8/4254c/1-6.jpg 162w\"\n        sizes=\"(max-width: 162px) 100vw, 162px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"gulp-rename-を使う\" style=\"position:relative;\"><a href=\"#gulp-rename-%E3%82%92%E4%BD%BF%E3%81%86\" aria-label=\"gulp rename を使う permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>gulp-rename を使う</h2>\n<p>階層を変える為に gulp-rename を試しました。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> src<span class=\"token punctuation\">,</span> dest<span class=\"token punctuation\">,</span> watch<span class=\"token punctuation\">,</span> series <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  sass <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-sass'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  sassGlob <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-sass-glob'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  rename <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gulp-rename'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">const</span> paths <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">scss</span><span class=\"token operator\">:</span> <span class=\"token string\">'./scss/'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">css</span><span class=\"token operator\">:</span> <span class=\"token string\">'./css/'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">compileScss</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">cb</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">src</span><span class=\"token punctuation\">(</span>paths<span class=\"token punctuation\">.</span>scss <span class=\"token operator\">+</span> <span class=\"token string\">\"**/*.scss\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">sassGlob</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">sass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">outputStyle</span><span class=\"token operator\">:</span> <span class=\"token string\">\"expanded\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">on</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span> sass<span class=\"token punctuation\">.</span>logError<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span>\n      <span class=\"token function\">rename</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">path</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token punctuation\">.</span>dirname <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">pipe</span><span class=\"token punctuation\">(</span><span class=\"token function\">dest</span><span class=\"token punctuation\">(</span>paths<span class=\"token punctuation\">.</span>css<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">cb</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> watchScss <span class=\"token operator\">=</span> <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>\n  paths<span class=\"token punctuation\">.</span>scss <span class=\"token operator\">+</span> <span class=\"token string\">\"**/*.scss\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">usePolling</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  compileScss\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nexports<span class=\"token punctuation\">.</span>default <span class=\"token operator\">=</span> <span class=\"token function\">series</span><span class=\"token punctuation\">(</span>compileScss<span class=\"token punctuation\">)</span></code></pre></div>\n<p>上記コードを実行した結果が下記の通りです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 346px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3ccdc63c20407e195aa2b4991cffc996/8f77f/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAklEQVQY02WQ22qDQBRF/Y7OxSjjZbReOok26igxmPz/H602SkuhDwsOh81is4O6aShtTpIm5HlB31+YZ8/kPdu2kVc14roi/BPddhiTEMUxUkqUUv8IXsLCZiRJQpZbLt0ZP3uGcWR7PLBlydvnHTk9EZ1HuIG4rLFZRhRHnPTpF601QVXXFDYnTdO9Ydedd9nttrIsyyEcn4jpgepntLti3hvG68A0eirTUIcN5+hCqEOCD+fIsxRjDGmW07Y1Xd/j5xk/TRhbILoFOdwRtqIqS27rSl1WVLqhjRwnHSKVPBo65/bj7w6vfX5QUqKl2FFKIpVCCHHktNx/SunD8S38AglSlFJvjCCfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/3ccdc63c20407e195aa2b4991cffc996/8f77f/image.png\"\n        srcset=\"/static/3ccdc63c20407e195aa2b4991cffc996/8a4e8/image.png 150w,\n/static/3ccdc63c20407e195aa2b4991cffc996/5a46d/image.png 300w,\n/static/3ccdc63c20407e195aa2b4991cffc996/8f77f/image.png 346w\"\n        sizes=\"(max-width: 346px) 100vw, 346px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 197px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4dcc507a141ee102f059b9ae85a6e745/1c154/image-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 170%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAFaElEQVRIx32W248cRxXG15A8ATFRYhzh2Dsz3V1V3dX3y9xvuzveyzi+x3i9eH1NHCmEEMmytTFIiRRQpMADEg9ICPEQKc/5V3iBf+eHuuayMztLHkqnNN31zXfO99U5vfZOvsM72TbnkssmvhVumP3b8cjEC40x7tY+lfZVs/dG97jYGPNu8z3swU3OJSOqvZusd67zSxGx9treET+98QXW4Z849/SfjP72by4++Ib2839Qe/A1Z3Ze8uO9l7w2PuL18RE/2nlh4ut7R5zZfsGbt7/A+/AvnBn/gbfSHdbO9h/y8+Fjzo+ecG73E5LHf+TC9lP0rc+4sPWUnzR/zdnOIT9r38e8O3jE2cHD+Xpz+Ijzm094Y/iU836HNceqIW0LVymsC+cRnatEd1/haJt4syAbFYStiKSXolwHp1ZDWJZZ5Vnh2ISNCOnYVCsV1mxb4AiJ6/lYtSpeexe3cwU39km326Q7LcJuTrzRQAUetuVgO2KyyrNSEtRTg1GpVktAB2EANXa1glcM8bcPUb4yoEJKpO8hpMCq2TgGyFmKKtA4QlCtTAGdKeD6pXdxtvYJrv0WnXs072yRjXvk4w5hJ8WeAs6WISMlyaAxYVhZYKg8TVO57GqNI22EqxBKmQMmzROs5nshzDuOLajOUlZSEdQbfJpm/Pf+Q4peg+L2kOb7G7ixXkl1DmjZKO0R9+rm2RzQmRZYCgetxDEjMSm+c8paZDzbHzNUijBq87tDwX++71L0csJ+MamZOB3wBxmK8pBwyUOHW5cD/FLd0DOq1SyLWs2iWq1RrR7vrZLVlFlZ6yWGUinSsGBwI+L5X++TJhlZmtPudMnzgiTJaDZbNFst2q0WzWYbz3UnoAvpH9dQSLQKiLqCZ7/fJ89yojAmzwqKom4Ay5gXBUVeUK835oDl+ZloCyq7uL5mwy04zHdxAx+ZaFSpsG1jWfYk5TLdacozMcp0dRaZ9OeArvIIkpj3sz7fPnqJn0aku23SUdPUt1TdmdbM7OeiOEjXxS/iY1HmjhcSWwi8PKfe6hpW5b9L7RqTS28SVagnZl+wy5IoM8AwiknCkHuPP+KToy9RWUjr7hat/U2av9qiuNqjcWeL1sEIPTV7ydDYplusGltKxURxFyGV6SLG4JYzZ1ReLwN04votqTwzaBjGpFHEwbPf8Omrr9CdhPqNAem4S+POkO6DyxTv9cnGHYSaplwy9D2Sft3slxgq5ZoYBgGhH2A7NlJ7poYq9PCSwLSzsoY/ePVmP+owphFqfnHwiuzzfxE3E7IrXeJhYZps2Vxr69Zy5ylV1h5ROz9Rw9KLrocnHC61d+kefIwfh8SbDYJWgt+I52muNAghDegKQ98P0J5mOBgy7A8MgC5is/xGgl9Exx5cSHfF2LMHQRARaJ+d67e5+eADZDMi3+uSXx1Qv9HHb0ZY1dWOLd0J4IptjLFth4uVdVo1j4GMsTxpfGZs5blGIMdZ7d7ls+WZMvWhLOdCrcqToM9IpOhRQfvuiHzcpbg+oLjSnTTdxZSlJN1sLc+UmW1KwGoQUfND0wdLIxtWZUep2ksKnzYSloztRwntMODtj1+Q/v074kZC++AyrXub1G8NiEeNeQ2PbWMfG9s+zdglEx2isuZkHnvKqF2aWeehAThpZnuhAy2obBOEIUlQcO1ZzPM/30YnCcXNDTqPdokG2YSdODFG/19zMD3R9VDCI+l5XNsf4WqNl0foRoIuQqyKdfqXg5CmrS3NZaOykFyyamw5GdfWc+xYE/cLwl6Gl0WEnWxi7pVBX37bJKeoLBXrtsWeLhjKGCcLjV3yKx1zBZNRk6ibrQCWtS7v8syH/wMs7xQJBPWadAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image 1\"\n        title=\"image 1\"\n        src=\"/static/4dcc507a141ee102f059b9ae85a6e745/1c154/image-1.png\"\n        srcset=\"/static/4dcc507a141ee102f059b9ae85a6e745/8a4e8/image-1.png 150w,\n/static/4dcc507a141ee102f059b9ae85a6e745/1c154/image-1.png 197w\"\n        sizes=\"(max-width: 197px) 100vw, 197px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>想定通りの動きをしています。\ngulp.watch で監視していますが、更新時も問題なく動きました。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 364px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2df7a9c0f7e826f263ad46a95aa09343/e45a9/image-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVQoz1WSSXLbMBQFfYvEJkCKBMF5AEdQoihLsuy4ssj9b9MpQVoki7ftev3+f+n7jiRJ0DqhaWqsnTmsK6fzGTtNeMYi1k+8cUUVFVEc43mei5DiGQ9f+vi+z8u/wNYBLfvDgcv1ymJnvHpEbL8R88arPSOykrqsyMucaBehfU0SJEhfIqXkpR8ewDjWGNMwzhPLsnC73ei7DmEWxPaNNx6IzEQzzSzWss5HhnikCErqXePaOeA4DqRp6mJMi10sx23j+vHB0HeIbv8AzifitmdejxRZhvoRkwU5nvR4lT+dulMeht7BsiynbVtmazk8ledpQtyVj99O+W1+RyQ5pmkxg0GH+tmwJvKVgzrgXTlJUtq2YZpG7LJwvlweys2EWH8hxhUxHtkVFVVZUtUVcahRviINMiI/+l85STP6zrDsF7bTic+vL/Z25u2+4eUPwr7jLReCoqZrDabv0GFCFVRUruETeH8TX0p2YYhSChUrtNbkeY5SESLSyLRE6hSpM+QudEZFWaB2yl34vmXohw74F/ZW8NPT2QzdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/2df7a9c0f7e826f263ad46a95aa09343/e45a9/image-2.png\"\n        srcset=\"/static/2df7a9c0f7e826f263ad46a95aa09343/8a4e8/image-2.png 150w,\n/static/2df7a9c0f7e826f263ad46a95aa09343/5a46d/image-2.png 300w,\n/static/2df7a9c0f7e826f263ad46a95aa09343/e45a9/image-2.png 364w\"\n        sizes=\"(max-width: 364px) 100vw, 364px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 175px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/578d50cf358a1b2484b6797532ffd26b/4edbd/image-3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 187.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/578d50cf358a1b2484b6797532ffd26b/4edbd/image-3.png\"\n        srcset=\"/static/578d50cf358a1b2484b6797532ffd26b/8a4e8/image-3.png 150w,\n/static/578d50cf358a1b2484b6797532ffd26b/4edbd/image-3.png 175w\"\n        sizes=\"(max-width: 175px) 100vw, 175px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>初めての導入で、様々な情報を元に環境を整えようとしましたが、gulp3 と gulp4 では、gulp.task が非推奨だったりコールバック関数を返さないといけなかったり、desc なしでも watch が css を出力したり…と戸惑いましたがなんとか期待通りの動きを実現できました。</p>","frontmatter":{"date":"2021-02-08","slug":"/698","title":"gulpでscssのコンパイルの階層がうまくいかない","tags":["css"],"thumbnail":{"publicURL":"/static/1467bc985142401c318f9b7475adc20d/group1-1.jpg"}},"excerpt":"今まではvs codeのLive Sass Compilerのプラグインに頼っていたのですが、ファイルが増える度にimport文を毎回足すのが手間で、globを利用してimport文を減らそうと導入を検討しました。 同時にCSS…","tableOfContents":"<ul>\n<li><a href=\"#scss-%E3%81%AE%E6%A7%8B%E9%80%A0%E3%82%92%E3%81%9D%E3%81%AE%E3%81%BE%E3%81%BE%E7%B6%AD%E6%8C%81%E3%81%97%E3%81%A6%E5%87%BA%E5%8A%9B%E3%81%95%E3%82%8C%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\">scss の構造をそのまま維持して出力されてしまう</a></li>\n<li><a href=\"#gulp-rename-%E3%82%92%E4%BD%BF%E3%81%86\">gulp-rename を使う</a></li>\n</ul>"},"site":{"siteMetadata":{"title":"うさ技術"}}},"pageContext":{"id":"77179d43-00e5-5323-91b0-20654573cf6c","frontmatter__slug":"/698","__params":{"frontmatter__slug":"698"}}},"staticQueryHashes":["1304567263","1692303416","3832698534"]}