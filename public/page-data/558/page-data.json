{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/558/","result":{"data":{"markdownRemark":{"html":"<p>そもそも浮動小数点の問題は多分これです。</p>\n<p><a href=\"https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples/2100502#2100502\">https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples/2100502#2100502</a></p>\n<h2 id=\"slider-の設定を確認する\" style=\"position:relative;\"><a href=\"#slider-%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\" aria-label=\"slider の設定を確認する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slider の設定を確認する</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 462px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/27ccaea7570f135cf1a368c880867c46/e389b/image-11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVQoz32S2Y7aQBBF5y8icHtf2u21uzHg2BgwEE1C8pz//5MTwUyQMoPycFUPJR3VuaqXJPGptKSsDGlbIceezDZEkU/gCYTj4LouSyHuUzjLe1whELe4Lp7n3Xe3+fIXWFSWopE0/UTXr9kYSdVUhJkiDgOMyoijkLSoycqWKInJZUoS+g/YB6Ch0AVmmrH7C3Y90E4XumFDIUN0nhKFIbnuUGZDlCbkMiP9H7DUJavDGXO8Yk9X9HBk6BVKunxZCHzfx7tpLhd4N/27sveAeZ77/EKzf6UdZ9rhiN6dMOOM0muOhz2/f/2gyxOsku89Om+93jv+pFxi92fM4RW9O9OOZ0w/UvZ7yvFEVWvWbcOuaxi7mlJJUqlIy4YsS/E88QHYKux0xs5X9O5CN18x2zU/hxOX+RtbrckzSV5I7KpiZeq3qrqBqlD4/wItRZvTfp0w44F625NP38l1TRtnVHGEjAOSMMBxxHuc+1s9VS4rS6JyoiQlimOCOMZLFUHos3AclsLFEe7j757H5Q/PHQopDrCHxgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/27ccaea7570f135cf1a368c880867c46/e389b/image-11.png\"\n        srcset=\"/static/27ccaea7570f135cf1a368c880867c46/8a4e8/image-11.png 150w,\n/static/27ccaea7570f135cf1a368c880867c46/5a46d/image-11.png 300w,\n/static/27ccaea7570f135cf1a368c880867c46/e389b/image-11.png 462w\"\n        sizes=\"(max-width: 462px) 100vw, 462px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Slider</span></span>\n<span class=\"token attr-name\">step</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">minimumValue</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">maximumValue</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">minimumTrackTintColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#ffffff<span class=\"token punctuation\">\"</span></span>\n<span class=\"token attr-name\">maximumTrackTintColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#442c2e<span class=\"token punctuation\">\"</span></span>\n<span class=\"token attr-name\">onValueChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">weight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setWeight</span><span class=\"token punctuation\">(</span>weight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">thumbTintColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#d9376e<span class=\"token punctuation\">\"</span></span>\n<span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>weight<span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 494px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8de0d93ce8db90b7f587c44402d05648/d72d4/image-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 146.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEVElEQVRIx62V+U8bRxTH96+vlKpH1LQiaSvlLhAuQ3CCORKCDcTBXp/4ttcX+D7wgY/dnU+1uzbGgag/NCt99N7MzrzZ79vRe5JI+vmeSHrCh4ExmPr/B+l7BjMDTj+VTPAGMfWV0MymvxrftpkQpALmGkk5fI/PtkTJ/pbk2gqxl6/ovnPg+etvwi9f4nn8J44ff+L0yRMOHvyM87ff2f/lV04XHrPzwwMOHz3i08IfHC89J7a3iTSKeiifHqDsvqXwcYfU9gbKto3A+hIR2wrB1UV8K68Jri8RWPkH35vX+NcWSdg3yO1uk9+zE7OtIm8tU3TtIfVDn7nyHxPff0t018bJ2itcKy9wLj/Ds7nE0fIz3Ouvcb15bo4PF5/i3VqicLxH+vAdde8RlbNDjt+8oOL+OPspZo7Sk3zcYTJ/k0fLH56fmT9imr+5a3MfWnyyeIKxQYvLN++553ZI37qgmrEhd45r+TkbCw+xLTwkaF+DbNh8Z161Cbd9SSRk9Lh3gowW86LHvGgxDyR8NM4OqZweUP18QMfnMuema++QkJF0JQLFJBSSiHwcysoMY76UgWoOanm4TKPnYua6e1HOkei1uR4M6HW7aKqKoijkslky6TSdqyt6vS6XlxfkcjnarRbGI4SOEGKGrlvzzSoS/Q6dXo9Ws4mqqnhlmS9fzpBlmUqlSqVaJZlKEQwGaTSb5kZdCCsATA6YjFtVJNEowXgIwz4M+sw92gjU0WzrdDweIPpdxPUEwx9eI6pFS3K316PdaqKOx/h8MrLXS8Dvp1Gv02w2SKdSpJJJarUqyWSCcqlkfZGuW/JvJFesgL1ej06rhToeEQ4G8csy0cg5jXrNPCify5JTFHOsZNJUK2UrgKZZQXVtFlDUSxMpA7juzUs2UiHUaaZgdG1JHhmSO7ckdxCDPqJaQGLcZ5Ct0JeTGFsPDj5w5HTx2e2m1b7C5w+YvsfrNTOp3/oZXz+iVUOi20Stt1HzZTR1RDIaIZtKks+kGXQ7XOZzZBJxilkF1DHiPsYjS3qjhGToFuoI3ZA8vJ4/Uh3OfY8pa3gPxvxoiKhdIDHo0u71aTSaaELw3rHLxuYWRy4XlVqNU7ebT04nzuOTWeBvSW7XkWjXGV/3GXau0AZ9KsWCSbNaZtC5olEuUb0o0qpVEKMB+leIKZqKqF8i6UZpyoShGLfIx6Aw8QsxuEjARdKyuQjkovM2ew5KGJEOYsQyy5ca85LY2yKys8Eg/IW27KJ0uk/BuUv+aIeiy7IXx3vknQ7TFpwOLk/2qbo/muuNaiOm9XAc83K0+BTHs8dc+U8ouHaJOmwE7KsE7auE7KsEtlcIvVubs+fv10l9sJPY38LoTaQmFVtMiqkpwWwHAavMG+U+G4ZC1JJ2h7Apd1r+zRYgUgH0dAgtFTQxfBPDz4RQw16zrY5iHkaRM0YRzx3GUYtZCzD6xX0YiY75GHtOzV7yXxgB/wXnPUOpb/LfIwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/8de0d93ce8db90b7f587c44402d05648/d72d4/image-12.png\"\n        srcset=\"/static/8de0d93ce8db90b7f587c44402d05648/8a4e8/image-12.png 150w,\n/static/8de0d93ce8db90b7f587c44402d05648/5a46d/image-12.png 300w,\n/static/8de0d93ce8db90b7f587c44402d05648/d72d4/image-12.png 494w\"\n        sizes=\"(max-width: 494px) 100vw, 494px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"setweight-のタイミングで調整してみる\" style=\"position:relative;\"><a href=\"#setweight-%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%A7%E8%AA%BF%E6%95%B4%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\" aria-label=\"setweight のタイミングで調整してみる permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setWeight のタイミングで調整してみる</h2>\n<p>制作したアプリでは weight を複数箇所で使用している。それならば、基準値を自然数にして、setWeight のタイミングで計算してしまえばよい…かと思えばそう単純ではない。\n例えば次のようにコードを変更するとする。</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">step<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\nminimumValue<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">10</span><span class=\"token punctuation\">}</span>\nmaximumValue<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">weight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setWeight</span><span class=\"token punctuation\">(</span>weight<span class=\"token operator\">/</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>すると表示は確かに小数点第一位となるが、毎回 weight がレンダリングされ、weight の数値と紐付いているスライダーの表記がおかしくなってしまう。</p>\n<h2 id=\"関数を用意して調整する\" style=\"position:relative;\"><a href=\"#%E9%96%A2%E6%95%B0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%97%E3%81%A6%E8%AA%BF%E6%95%B4%E3%81%99%E3%82%8B\" aria-label=\"関数を用意して調整する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関数を用意して調整する</h2>\n<p>関数を用意して表示するタイミングでの調整を試す。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calcWeight</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">weight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> weight <span class=\"token operator\">/</span> <span class=\"token number\">10</span></code></pre></div>\n<p>weight で呼び出していたところを関数呼び出しに変更</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1bf469f1750ba9f698e0a95894a62bc9/8c76f/image-13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABmklEQVQoz32SV47jQAxEfQ5bsZudFVrB9gRggNn73+ktJNn+WXg/CBIkWKhi8RRuA3m98fO9cv/9Q75+Mq2Z0E+IdWhVcb6UlGVJWZVUVXXUb+LUj8ISR/IY0TFhg6WLitQFuj6Qo6KziqZpqcrqBfouTuPk6PqF369vlnFCXMBaYRgiOXes88xtmbA2IFq/GBbFEeei2PMLcMiWIU7M44izjkYJIoI1gveG6A1zcohoWm0QYzBGE4IleMvae5J3h4ID0BBT5ut6I/pArQSlWrwTUnLE4FjGDiNC3QpK6x1wm3lvyX0i7oCKqtpumM3O8GOd8T4gzmNEEaMlJk/uIsuQ9oVtJkbjnBCTo4ue65gQsdRVfZiySQ5hYB0mvPXUraJta0TUIc0KnTfUdUOrhVa1e387xyZ57jYChqZuni4bxrTw83knxYQJCWs1/RAYxsiSe+7z8GBRUTxM2PKlKDhfir3ewB4uG1yMDKHHbktNS9PUKNWgtcJv8q3ej77L+s/b7AzH3O/yLpfinyfdmFweTJ695+K7P/wL3nMd9+wvPskAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/1bf469f1750ba9f698e0a95894a62bc9/0a47e/image-13.png\"\n        srcset=\"/static/1bf469f1750ba9f698e0a95894a62bc9/8a4e8/image-13.png 150w,\n/static/1bf469f1750ba9f698e0a95894a62bc9/5a46d/image-13.png 300w,\n/static/1bf469f1750ba9f698e0a95894a62bc9/0a47e/image-13.png 600w,\n/static/1bf469f1750ba9f698e0a95894a62bc9/8c76f/image-13.png 612w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7bc05be03b2db50e725e9aaa55ca20ae/92e00/image-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVQoz3WQy47TQBQF8xt2P9Ltdj/cTttO7Dw8mSBgA6z4/68pNIZBGiIWR7q6i9Kps/PLhJ+ujOcL06kQLw/CsDAtM84orDEYpZFSIJVCSImSAq01Sqktb/d7dsO60Kxf6OeF9bEy31bi7TuhzKQycb5/4ni6YRqHbyw5tFgXn0B/gd0hkE8TsRTm243LfWV+vPL59cLPH99YrjP+MOFjIjlLSYHG5/8D+5I4dpmQOvL1SD9kUjD0sWXIEWckoq43wL/K79oflUvABItQGlFXiKqirmuqqqKqa4QQSFEj/0CFVIgNLpFSPUF3aepJ653cR3w3YvJAmzKxTDStp+0KaZxJ4wlrLYfgSG2Dd5HgzNb6Q8MyeMow0neBlEfc+StpeXA4FMbccZwK3flKd3+hadttx9BYGutwdv+s7E8FG1uUECgl0cayNw17JTFas9e//2qvUFpvG76pbsrqWfkXhD3kMNsLpQAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/7bc05be03b2db50e725e9aaa55ca20ae/92e00/image-14.png\"\n        srcset=\"/static/7bc05be03b2db50e725e9aaa55ca20ae/8a4e8/image-14.png 150w,\n/static/7bc05be03b2db50e725e9aaa55ca20ae/5a46d/image-14.png 300w,\n/static/7bc05be03b2db50e725e9aaa55ca20ae/92e00/image-14.png 511w\"\n        sizes=\"(max-width: 511px) 100vw, 511px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>weightの部分をcalcWeight(weight)に書き換えた。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6a5fb87bbad063b33366315ba08f311d/79e1b/image-15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 138%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEAElEQVRIx4WVW3PiRhCF+f+VykuSp1Tylk1Sqa3dtZ2yvTYG7cUXjLmZqzEX2xghA0JGCEkIzZeaERjw2llVnZrpUaunT7fqdIx6jvAq+wSxsOWqcJ1b7dew7rvuH4sCbgZVqGUIqxnm5TRhLUtYuWBeuYj2a35z6bcWPLbMkFYxwnUe2kVENoX/SSM4PMLd2cfZ3iWIJ5hrGjQKkV/zEtoltV8GjVHPqoNWcpebT3vYhRP650mM0yMm+ROu4zv0j4/wS+dc7X2gdbCDlfuKnT/h7vNHSnvvGOeO1SWLDKPI3eND6vFt9JO42t9+3mecP6b68QO9swRW9gvl/ffUDreo7L/nMftV+abf/cko82U94IKyTL91GdFpFiJb0ropR6VY0luWZUl5Ya9RfqUpCziXp6oMkuKskn7Vb7Mpy19hDdKeX2X556cf2Pn1Z97+8iP66ZHKaP03WfePMqxdEFZXmFfSCmE1wrRwgnt5ilc8I6icI6T/S5Dfqwy7TTBuEXpbrZhdMHUY3Ed2vxPZwy70bhB6S/luooWQ71olYoiQgTnCDwKG5ohCsUgml6N2VWf0+MhwZFGtXVFvNJhMp8hH8PIjg8eYzzBNE9/zsEYjarUqlXKZm3Zb2YNBn2azQefuFs9zESJEhCEyEbGEtGXAbosY9gh8F6Y2zLy1++YQeBD4QBjZ/jQ6cycIZ4xw7AXGCNdB3NWJEc7Rewae52MYBolkkqSmUShc0h8M6Oo6F5kM19cNeobBWSrFZOK8SF3WMiazsy2LwHNxxo/ctprctVv0ez0mj5ZCv6dj9h+wrRG9+w4zdwrzOSKYrRCGiPsmMSZWRNWdwMxd0AuRtVUU5z6IIFq9aVQCSW9qb8JzEB1JGbASecKexU1PZ2t7m8P4EZlsjoFpktA04okExXIlqqz4Xpc9h8AYIGwb17bo33cwDR17OCCYThjoXYZ6F2dkquyE7yJ87xnciPZ9g5jsbuBPCT0noi4pyVVCdl9SD2ZqL7zp65j5iM61pCzoGg+4/gzdeODNX3/zbmubi1yeu26XeFLjIH5EoVRWtEJefyLKE4vZ2CJ0xgS2xWRgMB328SwT/9FUtjN8YDYeRcV37G8bstEUNYjyC7XIr+Rd6tx9De4qK91rRnopXlGocKWHm0NHfjQ419De/E7t4ANuKYVxllBKPkx/Qkj5ekUXN/RQrKl3P5VE++M3agdbTAqnKljnywFtbfebEfoEleFz5V2MUEW7W4Pb8qIEixHRLLw4p1cC2ywStspKy57QLCE6Vex/PzI51vCqadxiKkIphfcM0dn5grIcMLIpawjreUSjwPzynKCcVqNA1vZ7eBqj4Uu05aouyP0vxeeU/wOR6xRcDyLuagAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/6a5fb87bbad063b33366315ba08f311d/79e1b/image-15.png\"\n        srcset=\"/static/6a5fb87bbad063b33366315ba08f311d/8a4e8/image-15.png 150w,\n/static/6a5fb87bbad063b33366315ba08f311d/5a46d/image-15.png 300w,\n/static/6a5fb87bbad063b33366315ba08f311d/79e1b/image-15.png 498w\"\n        sizes=\"(max-width: 498px) 100vw, 498px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>想定通りの表示を実現することができた。</p>\n<h2 id=\"mathfloor-を使用する\" style=\"position:relative;\"><a href=\"#mathfloor-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\" aria-label=\"mathfloor を使用する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Math.floor を使用する</h2>\n<p>解決できたとおもわれたがしぶとく残っていた。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 501px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f2f5057209082397976f40b45a085881/55811/image-16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 136.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD6klEQVRIx42V/VPiRhjH+f9/7Ux/uF47bW3ner3rm+edM6ciCKgg7wF50YgeKCAEQiAJCUk+nd2IB4qdZuYz++xm97vPdwPPRlDLcKUQXBThsiSRsRhfcqW8TEsJ57TrtGK7RIzSMVr2CL9ZwKqksSsZ3FoWvZBklEswzicZnMXpnUYZnsXppw8ZZGLcpw/D/mmU+0wMvZCisvsnkU5yj+xfb7g73keNfkSN7kihduIzyqc/KO284+TdFtFfXpP9+w3Rre9I/PYjh79+z+n7LfZ/fiX7he23nLzfIiLTvSzhNfLSqkBkK6xYlYzcfZxP0Ip9orD9e3gsj8fxEIsj+lILLYvFgqXQErFwUkzJrMVRCIvNvW28lTlLRDK0KnJu5KnQqrjM5roa0q7BzfnGzaXgdQX18EHwKf5S8KIos+yk9rg82JEfT1iUQivznwn6mxCCVwr1z/+QfPsTB1uvae5/gJuqtL2agOgLF1LQb+Tx6zn8Ro6gkcOvZyXLWLThhyhBMx+OifkreLWszFz8QiJB95pgOibQhwSTIUzHkmCigTGSsa8Pw9gYyfGn+PoA7CnqaZwI9oR5Z4SZaTIHcoUSB7E4R6lj+kONu/sBpUqVUvWc3lBDPAHrj//QqvkMkUDrEsxMfG2EP7cwhgPsic5spLEwZ7jmFGsyZjbWcGYGeC64cwLHfkSsE9uoZykiweAWz7HlQt8ymRs65miIpWt41gzmFu50giffz+Q7Vwg7FsE8RIwTeKiZJBFxLobtMByNsd0FJ5kzdj7tsn8Yoz8YctvrU1QUlPNz7vr3nGQydLq9NetfLafDDANnjm9NZTbSUuCFrfPQlzgwN+WcwDbXWM9Q6+JYJrahs7Bm3N1c07lSaV+pzKcT+p0v9No33N+25cabWDtDDA3DnqMJy45LPJHkMH5ELH7E1DTJ5gukTk5ku7T48leWljuwcEK7wuLq487XuqHF2RPLM3xzCv7iwfK4j2VZGOMRrm1Rq1bIptOUiwWmE51mvUb9vMpFo07gLTbiu26YYfaYCBMN01mgTwxcz6OkKCRTx5TKCsZsRrlSQalWqTcv/qflmzr0bqB3Dd0WjO5A78OoC/dt0HvhmKDbIrh7jnerwrCDmthbFofsA+KPfiZxqxmmhSRGPiHjuXKKU02vFI6XisPTWtgsyrIlLqfdH77lw6tv0IspLqMfacV35R3jNQqslr318rWhpAeibeTxLgosLkT/64Z2NfNYtdfuoKWgHFTLa/iXZYJWhUXxDCeTYtEssKjnJKI6L+MlzqPl/xK8ruBmT7GTcZnlopZ7JrRR8GXLBQJRpa/KbLp3XrL8L6amvYZcAeUHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/f2f5057209082397976f40b45a085881/55811/image-16.png\"\n        srcset=\"/static/f2f5057209082397976f40b45a085881/8a4e8/image-16.png 150w,\n/static/f2f5057209082397976f40b45a085881/5a46d/image-16.png 300w,\n/static/f2f5057209082397976f40b45a085881/55811/image-16.png 501w\"\n        sizes=\"(max-width: 501px) 100vw, 501px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Math.floor をつけて制御する。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/db02ac641a8098d701f894fc23d2957e/432e7/image-18.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqklEQVQ4y4WUyXLkNhBE9RvNHcRGEiDArVu9aCbGY998mcP8/688B8luWbKk8KGCS1QkMrOy8GRbTaV7mkazLIE4dJi65vcfZ/48TdS14u9vMy+TxzSWWtbkWU5RFJ/WU9MbisZirGKILb5rEdIgtaUqy61JCEFVVZRlSVm+B8jz9+BP/WwYx2cuYSJcr5jpSoiO4xJRfqFrDWWekCQZaZqRpClJmpFl2SvYW9CnMEh8GxnjQIwOaQOmH/DO0vUObfVmh/cNfW+4ji3XqUNrQ1VWHxmGQdG6wHF45hTHXa5pUVpirUbUAq0kbWtoGkVwLaFbvZQ7YHFnuQLm+Q7ousgUR3rfkK+yDgeSQ8rhkHBIVrnpVnmakqXJJnuXvMveWK7PV4Y+4oLheHshnr+zHHvOtyPj6LmdIi+3iWV2/LxM/LguKCVR3UA7nQmhw4eOvCj/Zdi5QNNbrG+35tA3G9gcLD/PI30ryfIcURZU5edxeSd59dC5iKr1JiXL8m2iabZPNXud5qPyD2CPf3cPA6Ob8bZ9jcPDl7VpPWCt5H7I5tfadz/8bXx2QBc5HieeLyektAhRUgpxD3KOlDVGC4KVWKM2v4Qy1NqgVL0l4R3DVbL1mv50xk8L1/PA5eXEeXH8+uvC92tkCJYfp8g8eopSoN2A9RHvLdrojekr4DoU2zeY1iKqEmvVlrvWSoJ3qLq6b8m+IUXxP5JbFwluwkpLlqWkb7K3ZnEFe/iarl4+fP5kpzdA30XmMNN3LZVQmz9Sis27ul5rf1dK0BuBtxIhasqi/Gz15ObhMh+5LRO6iZgw45yljx6l1XZBrLkch4bbMXI7BoxpEJX4CDhOGmMldaWQldwk51l6z+MubY/N/p3cvcy/um2cM9SVJF2B8uzLi/Or+i/DfwD1dP+Uub7wpwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/db02ac641a8098d701f894fc23d2957e/432e7/image-18.png\"\n        srcset=\"/static/db02ac641a8098d701f894fc23d2957e/8a4e8/image-18.png 150w,\n/static/db02ac641a8098d701f894fc23d2957e/5a46d/image-18.png 300w,\n/static/db02ac641a8098d701f894fc23d2957e/432e7/image-18.png 570w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>きっともっとスマートな解決法はあると思うけれど、一旦は解決した。解決はしたが、全てに Math.floor をつけるという、力技のように思えるので、またリファクタリングすることにする。</p>","frontmatter":{"date":"2020-11-04","slug":"/558","title":"react-native-sliderの小数点が想定外の表示","tags":["reactnative"]},"excerpt":"そもそも浮動小数点の問題は多分これです。 https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples/2100502#210050…","tableOfContents":"<ul>\n<li><a href=\"#slider-%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\">Slider の設定を確認する</a></li>\n<li><a href=\"#setweight-%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%A7%E8%AA%BF%E6%95%B4%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\">setWeight のタイミングで調整してみる</a></li>\n<li><a href=\"#%E9%96%A2%E6%95%B0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%97%E3%81%A6%E8%AA%BF%E6%95%B4%E3%81%99%E3%82%8B\">関数を用意して調整する</a></li>\n<li><a href=\"#mathfloor-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\">Math.floor を使用する</a></li>\n</ul>"},"site":{"siteMetadata":{"title":"うさ技術"}}},"pageContext":{"id":"39487783-2eed-511e-9988-7d730a3fd2eb","frontmatter__slug":"/558","__params":{"frontmatter__slug":"558"}}},"staticQueryHashes":["1304567263","3517603198","3832698534"]}