{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/558/","result":{"data":{"markdownRemark":{"html":"<p>そもそも浮動小数点の問題は多分これです。</p>\n<p><a href=\"https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples/2100502#2100502\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples/2100502#2100502</a></p>\n<h2 id=\"slider-の設定を確認する\" style=\"position:relative;\"><a href=\"#slider-%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\" aria-label=\"slider の設定を確認する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Slider の設定を確認する</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 462px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/27ccaea7570f135cf1a368c880867c46/e389b/image-11.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABkElEQVR42n2S2Y7aQBBF5y8icHtf2u21uzHg2BgwEE1C8pz//5MTwUyQMoPycFUPJR3VuaqXJPGptKSsDGlbIceezDZEkU/gCYTj4LouSyHuUzjLe1whELe4Lp7n3Xe3+fIXWFSWopE0/UTXr9kYSdVUhJkiDgOMyoijkLSoycqWKInJZUoS+g/YB6Ch0AVmmrH7C3Y90E4XumFDIUN0nhKFIbnuUGZDlCbkMiP9H7DUJavDGXO8Yk9X9HBk6BVKunxZCHzfx7tpLhd4N/27sveAeZ77/EKzf6UdZ9rhiN6dMOOM0muOhz2/f/2gyxOsku89Om+93jv+pFxi92fM4RW9O9OOZ0w/UvZ7yvFEVWvWbcOuaxi7mlJJUqlIy4YsS/E88QHYKux0xs5X9O5CN18x2zU/hxOX+RtbrckzSV5I7KpiZeq3qrqBqlD4/wItRZvTfp0w44F625NP38l1TRtnVHGEjAOSMMBxxHuc+1s9VS4rS6JyoiQlimOCOMZLFUHos3AclsLFEe7j757H5Q/PHQopQO4NPQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/27ccaea7570f135cf1a368c880867c46/e389b/image-11.png\"\n        srcset=\"/static/27ccaea7570f135cf1a368c880867c46/8a4e8/image-11.png 150w,\n/static/27ccaea7570f135cf1a368c880867c46/5a46d/image-11.png 300w,\n/static/27ccaea7570f135cf1a368c880867c46/e389b/image-11.png 462w\"\n        sizes=\"(max-width: 462px) 100vw, 462px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Slider</span></span>\n<span class=\"token attr-name\">step</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">0.2</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">minimumValue</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">1</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">maximumValue</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">4</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">minimumTrackTintColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#ffffff<span class=\"token punctuation\">\"</span></span>\n<span class=\"token attr-name\">maximumTrackTintColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#442c2e<span class=\"token punctuation\">\"</span></span>\n<span class=\"token attr-name\">onValueChange</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">weight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setWeight</span><span class=\"token punctuation\">(</span>weight<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token attr-name\">thumbTintColor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>#d9376e<span class=\"token punctuation\">\"</span></span>\n<span class=\"token attr-name\">value</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>weight<span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 494px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8de0d93ce8db90b7f587c44402d05648/d72d4/image-12.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 146.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEaElEQVR42q2V+VPbRhTH9dd3ptNJ20wzCU2nB2kIBAhXOQI4EGKMOWwL2dhg+b7ANsbYli/J1n46K5krIf2l2ZnP7Nsn7ZO+b9+8VUTimG+JYusqErm4sf8PTkChf5tgTsCbXyUdvkWkNdfORO7m1L11OvLwuSSpOSjp7VXUhSkuVpfRZ6eJv57AWH3P0cvfiL5+zdHzX9n44Qn+sTE+fP8E79Nf8Pz4E/4XY6x99z0fnz1j58VzfG/HSW4to5inAc73PGQ2lylsrZFcnie9vIA2N0VsYYbw7CTqzAThuSmOZ96gTk+gvZsksTpPbmPZ4XRhhtDSWy78H1Da4X0aqo+4Z4nYxgJ77/7GOzOOd3qcwOIUn97+xcHcBLvTrzhanGRn8k+CS28p7m2S3F6hru5SPtjCN/2K2tHO6FBkDmWOUjf5+Qq3eYw4+epHj5yDcPKXCj8sm8cYxtXbZEvkhmE8dPucR0pN+VqBDuWGbJSPE7+zOPaU+Rc/E30/D9kT55lTtyPu24rQQ9jx4IgQw7PgiADoKrXDbSr7HxyMY5/ju3n3C5zCzsSgmICCjsjrUM7cIf0Xaajm4DIP5yns3BkiH38EHZE+QaHTpNPt0Wm3GQwsMuk02WyWdCpFq9WibRiUSiXyuRzNRgM5hLARQtxh266/doFC16BhGDQaDUzLIhAIcHh4hKqqVKtVKpUqeiJBJBKhfn3tbLSFcAPA6AOj9dUFirgqg9WHfsfl/hiaMDDvtkpb+sweomMguiOk3e8iynkpuUWrZdBsXGOZJqFg0CGsaVzVatSvrkgmEqSSSWqXl+jxONVKxf0j23blP5DcbmIYBkajgWX2iWgax6EQZ7EY9VqNRr1OLpsll80463QqSa1adQMMh25QezgKeC4lX4yk9aDXfihZpkIMbjIFZnckuYvotO5JbiH6HUQ5h8KgSy95TldLYSLweDx4d3c5ODyk0WwSVFX2Dw4IhkK3ByJ4fMjzUGhfM6jWGRQrDKw+eixKNpUkn0nTaxuUclnSibgzM7QQg0ewTFf6ZQlF1KuIoYlt9ZzTezAG/fvfR/Q6rrTPkX6rj6gUUOh1uG61nRqzhjYra2ssLC3h9e1Ruazh8++z4/Xi8/tva++rkusVFJpXmN0OfaPJoNuhXMhTKRa4rpbptZrUyudUS0Ual1WE2cfu97DNO8QNwwGiWkSxZWtKn0AxDoU45M/c2VmfQUmHUgKKOuRikDt9OGejkDlBpMLYCc1tX9ZpgPjGIqfrC/Sjh1yHvFzseSh418l/Wqe4u0H+03tKvk3HV9p1Z/nO5eE2DXXX6TZCdhvZOM1YgI9v/mBz/CUtzU/eu+4E11ZmCa/MElmZRVueIbL67sEcXZsjubWC7vkH6yx417FFQoVc1MW5DjS3zct2nz2Bwqkr7QtOHLk37d8JKJIadirCMBl2kLaDtDMnWOEAxto6ZjyIGTty1HyOTJnk7gqQ98VnyMNyEn2mYgX9DPWQc5/8FzLgvzzlQ32iB0ZRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/8de0d93ce8db90b7f587c44402d05648/d72d4/image-12.png\"\n        srcset=\"/static/8de0d93ce8db90b7f587c44402d05648/8a4e8/image-12.png 150w,\n/static/8de0d93ce8db90b7f587c44402d05648/5a46d/image-12.png 300w,\n/static/8de0d93ce8db90b7f587c44402d05648/d72d4/image-12.png 494w\"\n        sizes=\"(max-width: 494px) 100vw, 494px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"setweight-のタイミングで調整してみる\" style=\"position:relative;\"><a href=\"#setweight-%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%A7%E8%AA%BF%E6%95%B4%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\" aria-label=\"setweight のタイミングで調整してみる permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>setWeight のタイミングで調整してみる</h2>\n<p>制作したアプリでは weight を複数箇所で使用している。それならば、基準値を自然数にして、setWeight のタイミングで計算してしまえばよい…かと思えばそう単純ではない。\n例えば次のようにコードを変更するとする。</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\">step<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span><span class=\"token punctuation\">}</span>\nminimumValue<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">10</span><span class=\"token punctuation\">}</span>\nmaximumValue<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token number\">40</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">weight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setWeight</span><span class=\"token punctuation\">(</span>weight<span class=\"token operator\">/</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>すると表示は確かに小数点第一位となるが、毎回 weight がレンダリングされ、weight の数値と紐付いているスライダーの表記がおかしくなってしまう。</p>\n<h2 id=\"関数を用意して調整する\" style=\"position:relative;\"><a href=\"#%E9%96%A2%E6%95%B0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%97%E3%81%A6%E8%AA%BF%E6%95%B4%E3%81%99%E3%82%8B\" aria-label=\"関数を用意して調整する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関数を用意して調整する</h2>\n<p>関数を用意して表示するタイミングでの調整を試す。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">calcWeight</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">weight</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> weight <span class=\"token operator\">/</span> <span class=\"token number\">10</span></code></pre></div>\n<p>weight で呼び出していたところを関数呼び出しに変更</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1bf469f1750ba9f698e0a95894a62bc9/8c76f/image-13.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVR42n2SW27bMBBFvY3WskiJ5IhPiZKVuKmLIt3/ok4R2ol/6n5cDIgZXhzM3EPYM+v5lV8/Nvb3Pyz7hfPLQpw3nA9Yc+LbseN0+tCJvu9bfaZDWSxbnNlqwsWA+InoB1L2lDmyZcsaHeNo6HvFqb+ZPtNhWYVczry/XdnrhhGPiKWUwLIktlrZt4oTjzP2i7Drbvp+7Fr9Mpyro8TKusz4aWIwDutsMw1RSEF4nQPiLNoIToRJLClNpOi51MScAlqPD8OUKtf9QvIRNRiGcUDEEILDT8KSI9aYe2/EmKH1ZHLkGNqMVgN9f3oQXvaVGCLOR5wbG0HOgW1OXNaCHgx28jixeO/IxVNy5G0tTDKhlb4d5cMwhpl93vDiUXpAa9UorB0RawhiUUqjhhE96NZzzrQ1FO8wxjwMy+KY08bvnxdKzkjMTGKYl0itmZd14bpXnPPoXtHd49N1XdPtKI9IHeom+BhIkhDj6JVCqR6lVKOxg0aMboTtwv+JTSPMbeEjx+74z6B294h8vj8/PsvhX+UPHdQaI8uuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/1bf469f1750ba9f698e0a95894a62bc9/0a47e/image-13.png\"\n        srcset=\"/static/1bf469f1750ba9f698e0a95894a62bc9/8a4e8/image-13.png 150w,\n/static/1bf469f1750ba9f698e0a95894a62bc9/5a46d/image-13.png 300w,\n/static/1bf469f1750ba9f698e0a95894a62bc9/0a47e/image-13.png 600w,\n/static/1bf469f1750ba9f698e0a95894a62bc9/8c76f/image-13.png 612w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 511px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7bc05be03b2db50e725e9aaa55ca20ae/92e00/image-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVR42n2S3YqcQBCF5zGi/ad2t62traNmHZVkN5BA9iLv/zpfWIcMhCG5OHAoqI9zirrYKeHSRL+spLHFLQeuvzIsE67SGK0xSqGkRCqFkHevtUZ9zJU6/R9dxn3GHj+Iy8r+dePzsdPcfhKGFd92TLeNaVoxRYktCmpbUVTuCfQAxuRp5okwJObbzsu+Mb1+4zhWfr2/s305aK4v1G1H6yqmtsY1w/+AgbnrCaGh2ybGJdG3lmv0rGNPsAqRZyh1r5xLiZLiAXiunGpsXaK0QSiJyHPyLCfLMj5lOUIIpBRIkZ/L8iGJlOoJemnGFr/thI8qvsWESOU8PvaU1lH6Bh8TdRwoypLGVgRbYiuPt8VzwpQcw3Vm6COxv2LX7zTr233WdczzSLcd9K9v2BCIrqL11QmsbXmm/QtYLwkba5SQaCUxpcVYT6EkpdFURp73U4VGG42Q8nydf1X+DS3W5E0mEovLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/7bc05be03b2db50e725e9aaa55ca20ae/92e00/image-14.png\"\n        srcset=\"/static/7bc05be03b2db50e725e9aaa55ca20ae/8a4e8/image-14.png 150w,\n/static/7bc05be03b2db50e725e9aaa55ca20ae/5a46d/image-14.png 300w,\n/static/7bc05be03b2db50e725e9aaa55ca20ae/92e00/image-14.png 511w\"\n        sizes=\"(max-width: 511px) 100vw, 511px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>weightの部分をcalcWeight(weight)に書き換えた。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 498px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6a5fb87bbad063b33366315ba08f311d/79e1b/image-15.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 138%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD9ElEQVR42o2W2W/bRhCH+d/3qa8t+tACBRo0QJu0QWo7sqX4ip1Yt2xZsqLbOmzdlESK937FLiWZPgJEwIfdHc4O57dLzEgzb3JQzRN8zSlENa/Yzmtr1Lzw7PnTfVo0oF/Jbh3UupzBv07jXaXwSxk1eqU0/s2Dn79mE3QdMFzQuob6ZUjjCu/8E+7JMW4sgfluF3s/gbefQGS+QOsKagVoFaFZ3GYbBqwVsEspCv/9xTB5xDh9Qu/sgEn6RK3LsX8xC5+ZZE7J/fOa3qcDpplTxfXeW/Xcf5RhLY9TTtM+idE9O2B4cUj/PM44dayCNg53mefPGVwc8jX+nvrhDq3jPazrpJrf7L/7huRmUUndSN6OnXIoTR6JpLGWK2leqfVjyZHbiiKd5FFsMp1lT59d3FN/zazkw4Dra98gz0RmI4/hjx9/YO+3nzn4/ZftWUX9o3PNvMlCJUNwsyGNXw6Rc4lXSkXWGcQj/wiVDJrZKMOopxDDDkzvQR/CfAiTfoiyDWByp3yeMZBjF3HfRrMGXbxAMBiNEUClWiOTy3P+5YLbbo+JrtPt98kVCrQ7XXzpBKyHRz/he2jW3S2B56FPJwjf577fp91s0qjXmI7HLHSdyWhIp91Gn04JfE/5ieAJQiAcC83s1ME2Q1ZLCNz1+wV4NrhWOAofPCf0c1YIc4lYrVFzA7GYoa3uO7ieT7fXV2Fy+QLxRIL4x480mi0GoxG1ep1kKk2n16Naq5HJ5rayo9KF56Ktei2E62DMZ2rUxyOG/R6juz6GPsNaLjDnurIb+pTlbMpsNATfVf5bPBdhGWjGbU1JwDKUAdcG3wnlSbu9Cm0Sxwpx7VDiek84NxFLHc0cdAkMh9nOhUr75OyMnb0PfNjfVxIr1SoHiQSxgziz+Vz5BLz8U7e86jVVFv54AraFOZtgTMcKz1ziLBcsxkNl91eGylDYq+c4NsJcoJndBrgOtrwtxyKwVjjGAs801NyXUmwrXEv5cqMM+hR5juYy/LDdQNDt36m0vyRTvPrzNbuxfZrtW65KJeKHR8TiUvLimx+1sgc+2kpeirnAm08RxhxPn+DqY7z5RNnc2Rh7OlLrYKkr5OFL3wd0JVfMJ2hGOQuygqgSlEVUw3ImVLUpQvcGGrItFNb18TKsTpXsds8DuXXAF7qYLJ7Fvbfs/foTo+SRKveyit+exFgUPqvn0W73vOtFatsmoCz9yTevmGU/qYCj1BG3pzFVbGW2LxXZbQt4VHk3WW4kRzqhKvn1y2eZbTM0ZMBWiaBZQkRpl/Arl+h/v8cqJbGKFxGSqkE9opjELacful7wwtukTTb6b/WQ75Yclb79G/Kd/A/O3xOOAhE1NAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/6a5fb87bbad063b33366315ba08f311d/79e1b/image-15.png\"\n        srcset=\"/static/6a5fb87bbad063b33366315ba08f311d/8a4e8/image-15.png 150w,\n/static/6a5fb87bbad063b33366315ba08f311d/5a46d/image-15.png 300w,\n/static/6a5fb87bbad063b33366315ba08f311d/79e1b/image-15.png 498w\"\n        sizes=\"(max-width: 498px) 100vw, 498px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>想定通りの表示を実現することができた。</p>\n<h2 id=\"mathfloor-を使用する\" style=\"position:relative;\"><a href=\"#mathfloor-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\" aria-label=\"mathfloor を使用する permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Math.floor を使用する</h2>\n<p>解決できたとおもわれたがしぶとく残っていた。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 501px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f2f5057209082397976f40b45a085881/55811/image-16.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 136.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD80lEQVR42n2VaZPaRhCG+f+f8i2pxKlyxXbiHOV440154zV7sgeHQJyCXTCswLDAckkgISHpSc0IWNjDqnpqZrqnmn57iu4I1Sx8yRNcq8h9NRvua7l7vuShng/Xhwi7uNPUaJ3tEzFzF9wlj/GvMliFOFYhgaspjDNnDJVTRumY9N9eHsi1Gz+knzyS613qmO7lAb3EEeNMjPL+DpHORZTku19pn3+mdvgv1eiuDNSKfaLw8R3qhz+4/Os10Vc/kXr/GwevXnD69iWHr19I++dffpRnZect8XdviKxkeZW0lCoQ2Qo581KSXvxQZtk43iO98/vStyyFKNFq1TVasX0i4oJgFWiFuCTKITKe5eP0k8dU9v9hUVYe3RXJUC9wc/IfkYfOzeBUVWgUQ3QN9NKju5sB9dNlwIf4GwGN7Ll8verBriy+kCgDbdz3KpntgP4TeMs6Xkd3w0d48zOlvb/hpiR9mwnIu41iGNCvpPHLCn5FIago+OWUZLUPykoovZaFq/Ta5m/gaSnp10/2iATtLwTmiGB8J8EcSYLJAIxhuBd2sTeG0v4QX/htE105J8J0iNM1mJ5ruEAmlyd6fMLRaYxO/06SK2qohSLtXh/xBWx//nLViyqRoN8isCz8uyG+Y2MM+liTEdPhAHdmSuzJmOlogGMa4Lngzgkce40/t+TP6GqSSNBt4jk27szAt2c4xpjZ8A5rNMCbmTC3cKeG3Av/bDTANScggs0tiW9NIfDQ1QQRxn3MuUt/MMBZeMRTCrsf9/j0OUqn16fd7ZHNF8gVS7Rvu9Lf0JtbUteSC2qYYeDM8S2RzSyUFHjgu+BY4XmF8Ius7NkW2xn2W7i2hT0Z4dkzOnqDVr1Gs1Zlbk7ofW1y27yh22oSzG1w5jKBTdY1zCaJMOoxde4ln56dcXh8QvTwCGM6JZPNcXZ+QSKl4AXBt1+5kBGSdVg4Uopk83Pn22cpcfpYsng8f7GUPOhg2zaT4YDF3KZSKpFKxMmmFczxmGqlTLlU5ErT8Beilh6Bt9hC2kWGOSWUbC08RuMxC98nXywROzsno2YxzCmFUol8oYhWqeAttX5bckOD2xu4bUCnDoM2jLsw6kCvCaNbGLZDOg2Cdv0R/tca4nH1y6NVc0gtEX/0pMQtJTDVGEb6FLeYYJ6/xCnG8daN47nm8EQvFD3PyF7w6eUPvP/+OzkCxLwRY0D98CeOphBUs9utbt2+nujAgVgrabzrDIvr8ByOWRW7mFh39a0ZtAoojbXcFn41R1Av4OVSOJcxFlcZOUsEot2v9itcKTl3P1OeC+im49gnRzLLhaY8CvRkwGcli7WmQj3HU3PnOcn/A/dsvtz1tYIrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/f2f5057209082397976f40b45a085881/55811/image-16.png\"\n        srcset=\"/static/f2f5057209082397976f40b45a085881/8a4e8/image-16.png 150w,\n/static/f2f5057209082397976f40b45a085881/5a46d/image-16.png 300w,\n/static/f2f5057209082397976f40b45a085881/55811/image-16.png 501w\"\n        sizes=\"(max-width: 501px) 100vw, 501px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Math.floor をつけて制御する。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 570px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/db02ac641a8098d701f894fc23d2957e/432e7/image-18.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 90.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACsElEQVR42oWU2W7jOBRE/Ru2Vm4iJYrUZju2E/SGAQb90C/z//9yBqKctNOZYB4KErUU762qy51rNbUJWGuYl55x8mgh+efLmb8vC0Jofj5PfD0GjGtQSpLnBWVZ/id2rjeUzmGsYhwcoXMI1aAbhxI1RVEipUJKQV1XVFX1jqAo3pPv4mIYphPXODNcL9jlhRA9x+OA9gtta6mLPftDRpbl6brPcvI8fyN7JN3FUdG3A1McGUaPtIEmjPTe0oWexjY4q/He4vuGy+C4Th3GNIhKfKxwmBStDyzjmcs4o7RFOY8xCtc2SCnT/UrYdYYxtEyhRWtNXQvK8l7lSlgU7OKk8F1kjjOxbymyjMN+z35/eEC2tXw4bO8OGXn+imIzqSgS6W4YFW0f8dFyut0YL1+T20/XhWHseVoCz7eJZfF8u4z8uJ0wRqNcpJ2vhNglzYuy2ipcCTsfccHiQodpDENsWY6R4+j467YwBZN2l3WVsOm1Ol4n11e8tZwq9BHfDxjVJPdSG3cnD9m2XsX/P7yZ0nWRsVsItqMo8t8fPMRiJc3ybZOk1xqb/Pdmr9+lCr0fOB0XLtcTWtktwHVNmVopEFJgtMA3EmtU+rmWGqHXyREIIR4qvJtie0M4X+iXE5engevLmdPi+fX9zLeXMU3R9/OQTKoqgfEjNkz0vcU6+zaOD6a0WO+QosY5s+Wu1UwxYI1M7WYpInnKXpLms5ZXU4KfccqmbKW8HbKE/X6fRu5V1yzfUNxz9+dMvwV7CUei76iFQiiTDoMVq36rRmmtBJ2u6YxMz6qy+jDP9woD83zk+TTTuIEmHvHeEccebQ1d2zDNPdPU8nKKfDkPOOeQtfw4y9OisU6jhMFI806b1xNli8327LDiQYIPp03fNyipyda5LPJPD87P8GeF/wJU/f/VTupEGAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/db02ac641a8098d701f894fc23d2957e/432e7/image-18.png\"\n        srcset=\"/static/db02ac641a8098d701f894fc23d2957e/8a4e8/image-18.png 150w,\n/static/db02ac641a8098d701f894fc23d2957e/5a46d/image-18.png 300w,\n/static/db02ac641a8098d701f894fc23d2957e/432e7/image-18.png 570w\"\n        sizes=\"(max-width: 570px) 100vw, 570px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>きっともっとスマートな解決法はあると思うけれど、一旦は解決した。解決はしたが、全てに Math.floor をつけるという、力技のように思えるので、またリファクタリングすることにする。</p>","frontmatter":{"date":"2020-11-04","slug":"/558","title":"react-native-sliderの小数点が想定外の表示","tags":["reactnative"],"thumbnail":{"publicURL":"/static/7d8edc8723a60cb946a7ccfab3a5c960/image.png"}},"excerpt":"そもそも浮動小数点の問題は多分これです。 https://stackoverflow.com/questions/2100490/floating-point-inaccuracy-examples/2100502#210050…","tableOfContents":"<ul>\n<li><a href=\"#slider-%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%82%92%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\">Slider の設定を確認する</a></li>\n<li><a href=\"#setweight-%E3%81%AE%E3%82%BF%E3%82%A4%E3%83%9F%E3%83%B3%E3%82%B0%E3%81%A7%E8%AA%BF%E6%95%B4%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\">setWeight のタイミングで調整してみる</a></li>\n<li><a href=\"#%E9%96%A2%E6%95%B0%E3%82%92%E7%94%A8%E6%84%8F%E3%81%97%E3%81%A6%E8%AA%BF%E6%95%B4%E3%81%99%E3%82%8B\">関数を用意して調整する</a></li>\n<li><a href=\"#mathfloor-%E3%82%92%E4%BD%BF%E7%94%A8%E3%81%99%E3%82%8B\">Math.floor を使用する</a></li>\n</ul>"},"site":{"siteMetadata":{"title":"うさ技術"}}},"pageContext":{"id":"39487783-2eed-511e-9988-7d730a3fd2eb","frontmatter__slug":"/558","__params":{"frontmatter__slug":"558"}}},"staticQueryHashes":["1304567263","209911134","3832698534"],"slicesMap":{}}