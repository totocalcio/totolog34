{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/401/","result":{"data":{"markdownRemark":{"html":"<p>HTML5 で追加された&#x3C;summary>タグをご存知でしょうか。CSS すら不要でお手軽にアコーディオンがつくれてしまうタグです。</p>\n<p><a href=\"http://www.htmq.com/html5/summary.shtml\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://www.htmq.com/html5/summary.shtml</a></p>\n<p>しかし summary タグで気をつけないといけないことがいくつかありますのでご紹介します。</p>\n<h2 id=\"summary-タグでできること\" style=\"position:relative;\"><a href=\"#summary-%E3%82%BF%E3%82%B0%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8\" aria-label=\"summary タグでできること permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>summary タグでできること</h2>\n<p>できないことより先にできることとして、HTML と CSS を調整したサンプルを紹介します。</p>\n<p><a href=\"https://codepen.io/totocalcio/pen/abNXMVz\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CodePen.</a></p>\n<p>「summary　アコーディオン」等で検索して、（アニメーションつけたいな）って考えたらだいたい出てくるのは高さを固定にする方法です。全ての要素が固定ならそれも可能ですが、例えばサンプルのようにQ&#x26;Aなどで答えの文字数（高さ）がばらばらだったりするとそうはいきません。</p>\n<p>スラスラするアニメーションの設定は面倒なので、そのかわりふわっとしたアニメーションならばうまくごまかせるかもしれません。</p>\n<p>それではここからが本題のできないことです。</p>\n<h2 id=\"summary-タグでできないこと\" style=\"position:relative;\"><a href=\"#summary-%E3%82%BF%E3%82%B0%E3%81%A7%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8\" aria-label=\"summary タグでできないこと permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>summary タグでできないこと</h2>\n<h3 id=\"スラスラしづらい\" style=\"position:relative;\"><a href=\"#%E3%82%B9%E3%83%A9%E3%82%B9%E3%83%A9%E3%81%97%E3%81%A5%E3%82%89%E3%81%84\" aria-label=\"スラスラしづらい permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>スラスラしづらい</h3>\n<p>できないわけじゃないけど、使いづらい。できることで説明した内容です。\nいわゆる jQuery の slideToggle()的なことです。\n高さを固定にして transition を指定すれば可能ですが、レスポンシブを気にする必要もあるのにテキスト量も考えて...なんてことはやっぱり使いづらいです。</p>\n<h3 id=\"flex-がきかないios\" style=\"position:relative;\"><a href=\"#flex-%E3%81%8C%E3%81%8D%E3%81%8B%E3%81%AA%E3%81%84ios\" aria-label=\"flex がきかないios permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>flex がきかない(iOS)</h3>\n<p>下記のサンプルコードを見て下さい。</p>\n<p><a href=\"https://codepen.io/totocalcio/pen/WNwWqdZ\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CodePen.</a></p>\n<p>環境によっては別に問題なさそうに見える人もいるかもしれないけれど、実は iOS のみ flex がきいていない。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/510045e44b4d541a018fd5b7c7ca6be1/1d69c/IMG_1785.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 177.99999999999997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAkCAIAAAAGkY33AAAACXBIWXMAAAsTAAALEwEAmpwYAAAE0UlEQVR42pWW208UZxjG574aA7YCu3PaOX+n+eawJ3bZZYFFDm4BORUsocZSsW1Mmvaml73tVYuK0JI2KaIitW2a/gn+B14YbzHVxd11o1miu7CHZtmUVhMFn/wymbyZZ54vTyaZl0kme7sSia6u7nhn4lRqCCJiAKSouqoZ0Y54T7JX04GqGQBi3UCBYHh0dDTR1T05Odnb28/YwZg/etLyR03LDyAGEENEYvFEuD3a1Z3s6k5GorFwexQiAgBC2LQCHcS0nWAME5uxQ4lwcsKNDZhuBAAAsUlMa3hk9P2hkanpMzMzsyOnRwdPpYhJDQNCZNrhJCa2Heysm1lO4gVFUaCsGKqGfJLG87LHK3K87GUllpM4XuEEVTGQ5lDNpjIAsgwkGSgKZMbHz/T1D3f3DPYPjPT1D4faux1/3HI7RB8QRIPllL7UxOyHF92zg9HbZ+N/zbnfnE72jE3NfBYI9zCxeNL1RxD2EzMIkZsamp356OLY5JxPghyneFm5IzHQl5yAQzHn2xH/d2Pkwsl47NTg0LRpRxhZwZpB2zw8LyiWE8YkQGjAJwPBp/skIMmQ41VRMiwatsywRcMCp7a0cpKCFY0w5z754uPzXzY1n1A0PDF9Yf7zr8enLjjBrp6+ESeUMN1YJN7vhnomz3x67vxX41PnZRW1tnFjH8wNpKYZRcOqTlhWFH0adaJOIGa7HapOAXJU3VQ0ogNLMyi1o/5gp+VERZ/mZUUdWDq0GFGUKDEoAaqitHn41jahpZVt8/BeVmQ53z5eVvR4BS8rcrzkZUVFhYi4DMtLsqzaFDg2AQBqmkqpjbDFCzLHS/vwgryPlxU1nWAaYHhBUlSVEkBNrGqGLMt7Xyj5v/MV6skaQngvGUHDxMCikBCsI6JBoBqGDiEvvNbfOAKzdydhBPwOdR3LNAk1IYTAMPQ3hDeoJ4uiZFuEmK4sq6qieNhGSdLBZkGUTQxsClVFOfDpV826DkJ+6ndMhJAgKvuIPvVAmCNHm1pbTvgED8+2NTW/d+xY8/F3W5qPtx452vxm3jnaxCwuLi8sXPnxh6Wff1pZWVlZXr66urr6y+rapcuLC5euvI7vFy4vXl1myuXyzs7O7u5uqVQqFkul0k6x+KJYfLFzkMrlMpPP5588eXL//v2HD//OZrPpdHpra+vx48dbb1Q6nX769ClTKBTS6fS9e/c2NzczmUz2cMpkMoVCgdne3t7c3Lxz587du3cfPXqUy+XewlwoFHK53LNnz/L5fO7QymazdXN5T43Oyv+qcgjVC6tUKrVarVwuV6vV2tuoUqkwtVotl8vNz89vbGxsb29nMplisfgW5gcPHqRSqaWlpVKplM1mnz9/flhz49j5fP6QgS+ZGz1Vq9VGB4cvbHd3l2m4KpVytVqp1aqHp1qtMr/e/vPm+m+3Nv64fnPj2vVbazcO4Nra+tqNjdW19fWN3xk33Hd6ci6aGFYMP7IiGgxImv0aLBX4sd1h4JDpduooyFhuxA3GHH8HoUFqh00rRGgQ0yD5j8D+1aQhy2k37ZDlhKkdZgyICKn/ewFEBoAGgAgTatkGqE8aw0BimAZihtHYDwxE7OjALDJdBkCMTdrYCfY3A0xemljBTmKH9l63tx8Qy432IWz9Axjc3nqnXj4TAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/510045e44b4d541a018fd5b7c7ca6be1/0a47e/IMG_1785.png\"\n        srcset=\"/static/510045e44b4d541a018fd5b7c7ca6be1/8a4e8/IMG_1785.png 150w,\n/static/510045e44b4d541a018fd5b7c7ca6be1/5a46d/IMG_1785.png 300w,\n/static/510045e44b4d541a018fd5b7c7ca6be1/0a47e/IMG_1785.png 600w,\n/static/510045e44b4d541a018fd5b7c7ca6be1/1d69c/IMG_1785.png 750w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>これは iOS のバグのようなので仕方ありません。</p>\n<p>参考：<a href=\"https://github.com/philipwalton/flexbugs#flexbug-9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/philipwalton/flexbugs#flexbug-9</a></p>\n<h3 id=\"バグの解決策\" style=\"position:relative;\"><a href=\"#%E3%83%90%E3%82%B0%E3%81%AE%E8%A7%A3%E6%B1%BA%E7%AD%96\" aria-label=\"バグの解決策 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>バグの解決策</h3>\n<p>解決策は冒頭のコードを確認してもらえばわかると思いますが、要素を別のタグでラップして、そこに flex を設定します。\nしかし１点注意が必要で、div タグは使えないということです。\nもし使うと構文エラーになります。（もちろん表示はされますが）</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \n                margin-inline: 0;\n              \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0bea9df5c2c5551d23276381ec52723d/31493/image-18.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 4.666666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAABCAYAAADeko4lAAAACXBIWXMAAAsTAAALEwEAmpwYAAAASklEQVR42gXBQRJAMAxAUfe/FkfQpBoaNdMsOljbfe9NPi/0q5FE2c2J+IgIci6oCGbGWSurKO6VlBJHPehtEP7yjJutFNwdFeUHUIpHy8tg4Y8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"image\"\n        title=\"image\"\n        src=\"/static/0bea9df5c2c5551d23276381ec52723d/0a47e/image-18.png\"\n        srcset=\"/static/0bea9df5c2c5551d23276381ec52723d/8a4e8/image-18.png 150w,\n/static/0bea9df5c2c5551d23276381ec52723d/5a46d/image-18.png 300w,\n/static/0bea9df5c2c5551d23276381ec52723d/0a47e/image-18.png 600w,\n/static/0bea9df5c2c5551d23276381ec52723d/31493/image-18.png 664w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>そういう理由でサンプルコードでは span タグを使用しています。</p>","frontmatter":{"date":"2020-09-29","slug":"/401","title":"summaryタグの使い方に注意。構文エラーとiOSバグ。","tags":["css","html"],"thumbnail":null},"excerpt":"HTML5 で追加された<summary>タグをご存知でしょうか。CSS すら不要でお手軽にアコーディオンがつくれてしまうタグです。 http://www.htmq.com/html5/summary.shtml しかし summary…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#summary-%E3%82%BF%E3%82%B0%E3%81%A7%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%93%E3%81%A8\">summary タグでできること</a></p>\n</li>\n<li>\n<p><a href=\"#summary-%E3%82%BF%E3%82%B0%E3%81%A7%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8\">summary タグでできないこと</a></p>\n<ul>\n<li><a href=\"#%E3%82%B9%E3%83%A9%E3%82%B9%E3%83%A9%E3%81%97%E3%81%A5%E3%82%89%E3%81%84\">スラスラしづらい</a></li>\n<li><a href=\"#flex-%E3%81%8C%E3%81%8D%E3%81%8B%E3%81%AA%E3%81%84ios\">flex がきかない(iOS)</a></li>\n<li><a href=\"#%E3%83%90%E3%82%B0%E3%81%AE%E8%A7%A3%E6%B1%BA%E7%AD%96\">バグの解決策</a></li>\n</ul>\n</li>\n</ul>"},"site":{"siteMetadata":{"title":"うさ技術"}}},"pageContext":{"id":"3f698838-8360-5b65-b794-a59e86d0c280","frontmatter__slug":"/401","__params":{"frontmatter__slug":"401"}}},"staticQueryHashes":["1304567263","209911134","3832698534"],"slicesMap":{}}