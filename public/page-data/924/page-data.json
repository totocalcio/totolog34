{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/924/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"型-string--null--undefined-を型-string-に割り当てることはできません\" style=\"position:relative;\"><a href=\"#%E5%9E%8B-string--null--undefined-%E3%82%92%E5%9E%8B-string-%E3%81%AB%E5%89%B2%E3%82%8A%E5%BD%93%E3%81%A6%E3%82%8B%E3%81%93%E3%81%A8%E3%81%AF%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%9B%E3%82%93\" aria-label=\"型 string  null  undefined を型 string に割り当てることはできません permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>型 'string | null | undefined' を型 'string' に割り当てることはできません。</h2>\n<h3 id=\"原因経緯\" style=\"position:relative;\"><a href=\"#%E5%8E%9F%E5%9B%A0%E7%B5%8C%E7%B7%AF\" aria-label=\"原因経緯 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>原因・経緯</h3>\n<p>GraphQL で取得したデータをコンポーネントに渡そうとして発生</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">型 <span class=\"token string\">'string | null | undefined'</span> を型 <span class=\"token string\">'string'</span> に割り当てることはできません。\n  型 <span class=\"token string\">'undefined'</span> を型 <span class=\"token string\">'string'</span> に割り当てることはできません。</code></pre></div>\n<p><strong>IndexPage.tsx(親)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Layout</span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span>{data.site?.siteMetadata?.title}</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p><strong>layout.tsx(子)</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">type Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token literal-property property\">Layout</span><span class=\"token operator\">:</span> React<span class=\"token punctuation\">.</span><span class=\"token constant\">FC</span><span class=\"token operator\">&lt;</span>Props<span class=\"token operator\">></span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span></code></pre></div>\n<p>子コンポーネント側で許容する</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">type Props <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">title</span><span class=\"token operator\">:</span> string <span class=\"token operator\">|</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"graphqldocumenterror-unknown-type-imagesharpfluid\" style=\"position:relative;\"><a href=\"#graphqldocumenterror-unknown-type-imagesharpfluid\" aria-label=\"graphqldocumenterror unknown type imagesharpfluid permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQLDocumentError: Unknown type \"ImageSharpFluid\".</h2>\n<h3 id=\"原因経緯-1\" style=\"position:relative;\"><a href=\"#%E5%8E%9F%E5%9B%A0%E7%B5%8C%E7%B7%AF-1\" aria-label=\"原因経緯 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>原因・経緯</h3>\n<p>gatsby develop の際にエラー。</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">There was an error <span class=\"token keyword\">while</span> trying to generate TS types from your GraphQL queries:\nError xxx: GraphQLDocumentError: Unknown <span class=\"token builtin class-name\">type</span> <span class=\"token string\">\"ImageSharpFixed\"</span><span class=\"token builtin class-name\">.</span>\nError yyy: GraphQLDocumentError: Unknown <span class=\"token builtin class-name\">type</span> <span class=\"token string\">\"ImageSharpFluid\"</span><span class=\"token builtin class-name\">.</span></code></pre></div>\n<h3 id=\"対策\" style=\"position:relative;\"><a href=\"#%E5%AF%BE%E7%AD%96\" aria-label=\"対策 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>対策</h3>\n<p>gatsby-config.ts に gatsby-transformer-sharp を追加する</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token literal-property property\">config</span><span class=\"token operator\">:</span> GatsbyConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n<span class=\"token operator\">...</span>\n<span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n<span class=\"token operator\">...</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-image</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-plugin-sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-sharp</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>gatsby develop で確認してエラーが発生しなければ OK。\nこのエラーが出るということは gatsby-plugin-image が関係していることが多いと予想されるので、 gatsby-transformer-sharp 以外にも追加されていなかったらしておく。</p>","frontmatter":{"date":"2022-07-24","slug":"/924","title":"Gatsbyでブログ作る⑤〜エラー集","tags":["gatsby"],"thumbnail":null},"excerpt":"型 'string | null | undefined' を型 'string' に割り当てることはできません。 原因・経緯 GraphQL で取得したデータをコンポーネントに渡そうとして発生 IndexPage.tsx…","tableOfContents":"<ul>\n<li>\n<p><a href=\"#%E5%9E%8B-string--null--undefined-%E3%82%92%E5%9E%8B-string-%E3%81%AB%E5%89%B2%E3%82%8A%E5%BD%93%E3%81%A6%E3%82%8B%E3%81%93%E3%81%A8%E3%81%AF%E3%81%A7%E3%81%8D%E3%81%BE%E3%81%9B%E3%82%93\">型 'string | null | undefined' を型 'string' に割り当てることはできません。</a></p>\n<ul>\n<li><a href=\"#%E5%8E%9F%E5%9B%A0%E7%B5%8C%E7%B7%AF\">原因・経緯</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#graphqldocumenterror-unknown-type-imagesharpfluid\">GraphQLDocumentError: Unknown type \"ImageSharpFluid\".</a></p>\n<ul>\n<li><a href=\"#%E5%8E%9F%E5%9B%A0%E7%B5%8C%E7%B7%AF-1\">原因・経緯</a></li>\n<li><a href=\"#%E5%AF%BE%E7%AD%96\">対策</a></li>\n</ul>\n</li>\n</ul>"},"site":{"siteMetadata":{"title":"うさ技術"}}},"pageContext":{"id":"3589b115-9392-5c20-86dc-9ad9760cc419","frontmatter__slug":"/924","__params":{"frontmatter__slug":"924"}}},"staticQueryHashes":["1304567263","2526247512","3832698534"]}